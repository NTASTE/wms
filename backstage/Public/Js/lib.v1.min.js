var X,swfobject,SWFUpload;"undefined"==typeof globalObj&&(globalObj={}),function(a){a(function(){a("#webNav").on("mouseenter","li",function(){var b=a(this);b.addClass("select"),b.find(">div").css("display","block")}),a("#webNav").on("mouseleave","li",function(){var b=a(this);b.removeClass("select"),b.find(">div").css("display","none")})})}(jQuery),X={ajax:function(a){var b=a.online||!0,c=a.data||"测试ajax离线";b?$.ajax({url:a.url,dataType:a.dataType||"json",type:a.type||"post",data:c,success:function(b){!!a.fn&&a.fn(b)},error:function(){!!a.errorFn&&a.errorFn()}}):!!a.testFn&&a.testFn(c)},ajaxPost:function(a,b){var c=a,d={url:c.data("url"),data:{cid:c.data("cid"),proid:c.data("proid")},type:"post",sFn:function(a){newAlert({msg:a.msg,fn:function(){}})}};$.extend(d,b),X.ajax({url:d.url,data:d.data,type:d.type,fn:function(a){d.sFn(a,c)}})},ajaxDel:function(a,b){var c={url:a.attr("action"),data:a.serialize(),type:"post",msg:"确定要删除吗？删除以后不能恢复呢",callback:function(a){alert(a.msg),X.locationReload(a.data.url)}};$.extend(c,b),newComfirm({msg:c.msg,fn:function(b){"yes"==b.btn&&X.ajax({url:c.url,type:c.type,data:c.data,fn:function(a){!!c.callback&&c.callback(a)}})}})},locationReload:function(a,b){var b=b||1500;a?setTimeout(function(){location.replace(a)},b):setTimeout("location.reload()",b)},formPost:function(a,b){var c={prettySelect:!1,ajaxFormValidationMethod:"post",ajaxFormValidation:!0,modForm:null,onFailure:null,cFn:function(a,b,c){a&&(c.status?c.data&&c.data.url?(X.locationReload(c.data.url,3500),newAlert({msg:c.msg,fn:function(){location.href=c.data.url}})):(X.locationReload(null,3500),newAlert({msg:c.msg,fn:function(){location.reload()}})):alert(c.msg))}};$.extend(c,b),a.valid({onFailure:function(a){!!c.onFailure&&c.onFailure(a)},prettySelect:c.prettySelect,ajaxFormValidation:c.ajaxFormValidation,ajaxFormValidationMethod:c.ajaxFormValidationMethod,modForm:function(a,b,d){!!c.modForm&&c.modForm(a,b,d)},onAjaxFormComplete:function(a,b,d,e){c.cFn(a,b,d,e)}})},accMul:function(a,b){var c=0,d=a.toString(),e=b.toString();try{c+=d.split(".")[1].length}catch(f){}try{c+=e.split(".")[1].length}catch(f){}return Number(d.replace(".",""))*Number(e.replace(".",""))/Math.pow(10,c)},accDiv:function(arg1,arg2){var r1,r2,t1=0,t2=0;try{t1=arg1.toString().split(".")[1].length}catch(e){}try{t2=arg2.toString().split(".")[1].length}catch(e){}with(Math)return r1=Number(arg1.toString().replace(".","")),r2=Number(arg2.toString().replace(".","")),r1/r2*pow(10,t2-t1)},accAdd:function(a,b){var c,d,e;try{c=a.toString().split(".")[1].length}catch(f){c=0}try{d=b.toString().split(".")[1].length}catch(f){d=0}return e=Math.pow(10,Math.max(c,d)),(a*e+b*e)/e},accSub:function(a,b){var c,d,e,f;try{c=a.toString().split(".")[1].length}catch(g){c=0}try{d=b.toString().split(".")[1].length}catch(g){d=0}return e=Math.pow(10,Math.max(c,d)),f=c>=d?c:d,((a*e-b*e)/e).toFixed(f)},textLimit:function(a,b){a.on("input propertychange",function(){var c=$(this),d=c.attr("maxlength")||b.maxlength||300,e=c[0]?c.val().length:0,f=c.parent().find(b.nexttarget),g="";d>=e?b.nexttarget&&f.html(e+"/"+d):(g=c.val(),c.val(g.replace(new RegExp("(.{"+d+"}).+"),"$1")),f.html(d+"/"+d))}),a.trigger("input").trigger("propertychange")}},function(a){a.extend({shareFunc:function(b){function d(b,c){b.length&&b.on("click",function(){var b=a(this),d=b.attr("title")||document.title,e=b.attr("href")||location.href,f=b.attr("pic")||"";return c.indexOf("sns.qzone")>-1?window.open(c+"title="+encodeURIComponent(d)+"&url="+encodeURIComponent(e)+"&pics="+(f?encodeURIComponent(f):""),"_blank","scrollbars=no,width=600,height=450,left=75,top=20,status=no,resizable=yes"):c.indexOf("www.douban.com")>-1?window.open(c+"url="+encodeURIComponent(e)+"&title="+encodeURIComponent(d)+"&image="+(f?encodeURIComponent(f):"")+"&sel=&v=1","_blank","scrollbars=no,width=600,height=450,left=75,top=20,status=no,resizable=yes"):window.open(c+"title="+encodeURIComponent(d)+"&url="+encodeURIComponent(e)+"&pic="+(f?encodeURIComponent(f):""),"_blank","scrollbars=no,width=600,height=450,left=75,top=20,status=no,resizable=yes"),!1})}var c={sina:a(".sina a"),qq:a(".qq a"),renren:a(".renren a"),qzone:a(".qzone a")};a.extend(!0,c,b||{}),a.each(c,function(a,b){switch(a){case"sina":d(b,"http://service.weibo.com/share/share.php?");break;case"qq":d(b,"http://v.t.qq.com/share/share.php?");break;case"renren":d(b,"http://widget.renren.com/dialog/share?");break;case"qzone":d(b,"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?");break;case"douban":d(b,"http://www.douban.com/recommend/?")}})}})}(jQuery),function(a){a.fn.selectForm=function(b){var c={evt:"click",cur:"",noneClass:"none",tagPos:0,hideFirst:!1,hoverClass:"hover",listLabel:"li",docClick:"",tab:".j_select",tabCon:".j_selectContent",onSelectChange:function(){},onItemClick:function(){},onSelectDropDown:function(){}};return a.extend(c,b),this.each(function(){var b=a(this),d=c.cur,e=c.tab,f=c.tabCon,g=b.find(e),h=c.evt,j=(c.tagPos,c.noneClass),k=b.find(f),l=a("body").find(f).not(k),m=k.find(c.listLabel),n=c.hoverClass,o=a('<input type="hidden" name="'+b.data("name")+'"/>'),p=!1;g.length&&g&&(/input/i.test(g[0].tagName)&&(p=!0),b.prepend(o),k.addClass(j),g.removeClass(d),g.on(h,function(){return l.addClass(j),k.toggleClass(j),!!c.onSelectDropDown&&c.onSelectDropDown(),!1}),p?(str=g.val(),g.val(m.eq(0).text())):(str=g.html(),g.html(m.eq(0).text())),o.val(m.eq(0).data("value")),m.on(h,function(b){b.stopPropagation();var d=a(this),e="";return p?(e=g.val(),g.val(d.text())):(e=g.html(),g.html(d.text())),o.val(d.data("value")),k.toggleClass(j),d.text()!=e?(c.onSelectChange(o.val()),!!c.onItemClick&&c.onItemClick(d,o),!1):void 0}).hover(function(){a(this).addClass(n).siblings().removeClass(n)},function(){a(this).removeClass(n)}),a(document).on(h,function(){k.addClass(j)}))})}}(jQuery),function(a){a.fn.placeholder=function(b){return"placeholder"in document.createElement("input")?void 0:this.each(function(){var c=a.extend({},c,b),d=c.color,e=c.name,f=function(b){return a(b).val()},g=function(b,c){a(b).val(c)},h=function(b){return a(b).attr("placeholder")},i=function(a){var b=f(a);return 0===b.length||b==h(a)},j=function(b){a(b).data(e,a(b).css("color")),a(b).css("color",d)},k=function(b){a(b).css("color",a(b).data(e)),a(b).removeData(e)},l=function(a){g(a,h(a)),j(a)},m=function(b){a(b).data(e)&&(g(b,""),k(b))},n=function(){i(this)&&m(this)},o=function(){i(this)&&l(this)},p=function(){i(this)&&m(this)},q=a(this);q.attr("placeholder")&&(q.focus(n),q.blur(o),q.bind("parentformsubmitted",p),q.trigger("blur"),q.parents("form").submit(function(){q.trigger("parentformsubmitted")}))})}}(jQuery),function(a){var b={init:function(c){var d=this;return d.data("jqv")&&null!=d.data("jqv")||(c=b._saveOptions(d,c),a(document).on("click",".formError",function(){a(this).fadeOut(150,function(){a(this).parent(".formErrorOuter").remove(),a(this).remove()})})),this},attach:function(c){var e,d=this;return e=c?b._saveOptions(d,c):d.data("jqv"),e.validateAttribute=d.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class",e.binded&&(d.on(e.validationEventTrigger,"["+e.validateAttribute+"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",b._onFieldEvent),d.on("click","["+e.validateAttribute+"*=validate][type=checkbox],["+e.validateAttribute+"*=validate][type=radio]",b._onFieldEvent),d.on(e.validationEventTrigger,"["+e.validateAttribute+"*=validate][class*=datepicker]",{delay:300},b._onFieldEvent)),e.autoPositionUpdate&&a(window).bind("resize",{noAnimation:!0,formElem:d},b.updatePromptsPosition),d.on("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",b._submitButtonClick),d.removeData("jqv_submitButton"),d.on("submit",b._onSubmitEvent),this},detach:function(){var c=this,d=c.data("jqv");return c.find("["+d.validateAttribute+"*=validate]").not("[type=checkbox]").off(d.validationEventTrigger,b._onFieldEvent),c.find("["+d.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").off("click",b._onFieldEvent),c.off("submit",b._onSubmitEvent),c.removeData("jqv"),c.off("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",b._submitButtonClick),c.removeData("jqv_submitButton"),d.autoPositionUpdate&&a(window).off("resize",b.updatePromptsPosition),this},validate:function(){var e,f,c=a(this),d=null;if(c.is("form")||c.hasClass("validationEngineContainer")){if(c.hasClass("validating"))return!1;c.addClass("validating"),e=c.data("jqv"),d=b._validateFields(this),setTimeout(function(){c.removeClass("validating")},100),d&&e.onSuccess?e.onSuccess():!d&&e.onFailure&&e.onFailure()}else c.is("form")||c.hasClass("validationEngineContainer")?c.removeClass("validating"):(f=c.closest("form, .validationEngineContainer"),e=f.data("jqv")?f.data("jqv"):a.validationEngine.defaults,d=b._validateField(c,e),d&&e.onFieldSuccess?e.onFieldSuccess():e.onFieldFailure&&e.InvalidFields.length>0&&e.onFieldFailure());return e.onValidationComplete?!!e.onValidationComplete(f,d):d},updatePromptsPosition:function(c){var d,e,f;return c&&this==window?(d=c.data.formElem,e=c.data.noAnimation):d=a(this.closest("form, .validationEngineContainer")),f=d.data("jqv"),d.find("["+f.validateAttribute+"*=validate]").not(":disabled").each(function(){var g,h,c=a(this);f.prettySelect&&c.is(":hidden")&&(c=d.find("#"+f.usePrefix+c.attr("id")+f.useSuffix)),g=b._getPrompt(c),h=a(g).find(".formErrorContent").html(),g&&b._updatePrompt(c,a(g),h,void 0,!1,f,e)}),this},showPrompt:function(a,c,d,e){var f=this.closest("form, .validationEngineContainer"),g=f.data("jqv");return g||(g=b._saveOptions(this,g)),d&&(g.promptPosition=d),g.showArrow=1==e,b._showPrompt(this,a,c,!1,g),this},hide:function(){var f,c=a(this).closest("form, .validationEngineContainer"),d=c.data("jqv"),e=d&&d.fadeDuration?d.fadeDuration:.3;return f=a(this).is("form")||a(this).hasClass("validationEngineContainer")?"parentForm"+b._getClassName(a(this).attr("id")):b._getClassName(a(this).attr("id"))+"formError",a("."+f).fadeTo(e,.3,function(){a(this).parent(".formErrorOuter").remove(),a(this).remove()}),this},hideAll:function(){var b=this,c=b.data("jqv"),d=c?c.fadeDuration:300;return a(".formError").fadeTo(d,300,function(){a(this).parent(".formErrorOuter").remove(),a(this).remove()}),this},_onFieldEvent:function(c){var d=a(this),e=d.closest("form, .validationEngineContainer"),f=e.data("jqv");f.eventTrigger="field",window.setTimeout(function(){b._validateField(d,f),0==f.InvalidFields.length&&f.onFjieldSuccess?f.onFieldSuccess():f.InvalidFields.length>0&&f.onFieldFailure&&f.onFieldFailure()},c.data?c.data.delay:0)},_onSubmitEvent:function(){var e,f,c=a(this),d=c.data("jqv");return c.data("jqv_submitButton")&&(e=a("#"+c.data("jqv_submitButton")),e&&e.length>0&&(e.hasClass("validate-skip")||"true"==e.attr("data-validation-engine-skip")))?!0:(d.eventTrigger="submit",f=b._validateFields(c),f&&d.ajaxFormValidation?(b._validateFormWithAjax(c,d),!1):f&&d.onSuccess?!!d.onSuccess(c,d):(!f&&d.onFailure&&d.onFailure(c,d),d.onValidationComplete?!!d.onValidationComplete(c,f):f))},_checkAjaxStatus:function(b){var c=!0;return a.each(b.ajaxValidCache,function(a,b){return b?void 0:(c=!1,!1)}),c},_checkAjaxFieldStatus:function(a,b){return 1==b.ajaxValidCache[a]},_validateFields:function(c){var f,g,h,i,j,k,l,m,n,d=c.data("jqv"),e=!1;if(c.trigger("jqv.form.validating"),f=null,c.find("["+d.validateAttribute+"*=validate]").not(":disabled").each(function(){var g=a(this),h=[];if(a.inArray(g.attr("name"),h)<0){if(e|=b._validateField(g,d),e&&null==f&&(g.is(":hidden")&&d.prettySelect?f=g=c.find("#"+d.usePrefix+b._jqSelector(g.attr("id"))+d.useSuffix):(g.data("jqv-prompt-at")instanceof jQuery?g=g.data("jqv-prompt-at"):g.data("jqv-prompt-at")&&(g=a(g.data("jqv-prompt-at"))),f=g)),d.doNotShowAllErrosOnSubmit)return!1;if(h.push(g.attr("name")),1==d.showOneMessage&&e)return!1}}),c.trigger("jqv.form.result",[e]),e){if(d.scroll)if(g=f.offset().top,h=f.offset().left,i=d.promptPosition,"string"==typeof i&&-1!=i.indexOf(":")&&(i=i.substring(0,i.indexOf(":"))),"bottomRight"!=i&&"bottomLeft"!=i&&(j=b._getPrompt(f),j&&(g=j.offset().top)),d.scrollOffset&&(g-=d.scrollOffset),d.isOverflown){if(k=a(d.overflownDIV),!k.length)return!1;l=k.scrollTop(),m=-parseInt(k.offset().top),g+=l+m-5,n=a(d.overflownDIV+":not(:animated)"),n.animate({scrollTop:g},1100,function(){d.focusFirstField&&f.focus()})}else a("html, body").animate({scrollTop:g},1100,function(){d.focusFirstField&&f.focus()}),a("html, body").animate({scrollLeft:h},1100);else d.focusFirstField&&f.focus();return!1}return!0},_validateFormWithAjax:function(c,d){var e,f,g,h;!!d.modForm&&d.modForm(c,d),e=d.data||c.serialize(),f=d.ajaxFormValidationMethod?d.ajaxFormValidationMethod:"GET",g=d.ajaxFormValidationURL?d.ajaxFormValidationURL:c.attr("action"),h=d.dataType?d.dataType:"json",a.ajax({type:f,url:g,cache:!1,dataType:h,data:e,form:c,methods:b,options:d,beforeSend:function(){return d.onBeforeAjaxFormValidation(c,d)},error:function(a,c){b._ajaxError(a,c)},success:function(e){var f,g,i,j,k,l,m;if("json"==h&&e!==!0){for(f=!1,g=0;g<e.length;g++)i=e[g],j=i[0],k=a(a("#"+j)[0]),1==k.length&&(l=i[2],1==i[1]?""!=l&&l?(d.allrules[l]&&(m=d.allrules[l].alertTextOk,m&&(l=m)),d.showPrompts&&b._showPrompt(k,l,"pass",!1,d,!0)):b._closePrompt(k):(f|=!0,d.allrules[l]&&(m=d.allrules[l].alertText,m&&(l=m)),d.showPrompts&&b._showPrompt(k,l,"",!1,d,!0)));d.onAjaxFormComplete(!f,c,e,d)}else d.onAjaxFormComplete(!0,c,e,d)}})},_validateField:function(c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;if(c.attr("id")||(c.attr("id","form-validation-field-"+a.validationEngine.fieldIdCounter),++a.validationEngine.fieldIdCounter),!d.validateNonVisibleFields&&(c.is(":hidden")&&!d.prettySelect||c.parent().is(":hidden")))return!1;if(f=c.attr(d.validateAttribute),g=/validate\[(.*)\]/.exec(f),!g)return!1;for(h=g[1],i=h.split(/\[|,|\]/),j=!1,k=c.attr("name"),l="",m="",n=!1,o=!1,d.isError=!1,d.showArrow=!0,d.maxErrorsPerField>0&&(o=!0),p=a(c.closest("form, .validationEngineContainer")),q=0;q<i.length;q++)i[q]=i[q].replace(" ",""),""===i[q]&&delete i[q];for(q=0,r=0;q<i.length;q++){if(o&&r>=d.maxErrorsPerField){n||(s=a.inArray("required",i),n=-1!=s&&s>=q);break}switch(t=void 0,i[q]){case"required":n=!0,t=b._getErrorMessage(p,c,i[q],i,q,d,b._required);break;case"custom":t=b._getErrorMessage(p,c,i[q],i,q,d,b._custom);break;case"groupRequired":u="["+d.validateAttribute+"*="+i[q+1]+"]",v=p.find(u).eq(0),v[0]!=c[0]&&(b._validateField(v,d,e),d.showArrow=!0),t=b._getErrorMessage(p,c,i[q],i,q,d,b._groupRequired),t&&(n=!0),d.showArrow=!1;break;case"ajax":t=b._ajax(c,i,q,d),t&&(m="load");break;case"minSize":t=b._getErrorMessage(p,c,i[q],i,q,d,b._minSize);break;case"maxSize":t=b._getErrorMessage(p,c,i[q],i,q,d,b._maxSize);break;case"min":t=b._getErrorMessage(p,c,i[q],i,q,d,b._min);break;case"max":t=b._getErrorMessage(p,c,i[q],i,q,d,b._max);break;case"past":t=b._getErrorMessage(p,c,i[q],i,q,d,b._past);break;case"future":t=b._getErrorMessage(p,c,i[q],i,q,d,b._future);break;case"dateRange":u="["+d.validateAttribute+"*="+i[q+1]+"]",d.firstOfGroup=p.find(u).eq(0),d.secondOfGroup=p.find(u).eq(1),(d.firstOfGroup[0].value||d.secondOfGroup[0].value)&&(t=b._getErrorMessage(p,c,i[q],i,q,d,b._dateRange)),t&&(n=!0),d.showArrow=!1;break;case"dateTimeRange":u="["+d.validateAttribute+"*="+i[q+1]+"]",d.firstOfGroup=p.find(u).eq(0),d.secondOfGroup=p.find(u).eq(1),(d.firstOfGroup[0].value||d.secondOfGroup[0].value)&&(t=b._getErrorMessage(p,c,i[q],i,q,d,b._dateTimeRange)),t&&(n=!0),d.showArrow=!1;break;case"maxCheckbox":c=a(p.find("input[name='"+k+"']")),t=b._getErrorMessage(p,c,i[q],i,q,d,b._maxCheckbox);break;case"minCheckbox":c=a(p.find("input[name='"+k+"']")),t=b._getErrorMessage(p,c,i[q],i,q,d,b._minCheckbox);break;case"equals":t=b._getErrorMessage(p,c,i[q],i,q,d,b._equals);break;case"funcCall":t=b._getErrorMessage(p,c,i[q],i,q,d,b._funcCall);break;case"creditCard":t=b._getErrorMessage(p,c,i[q],i,q,d,b._creditCard);break;case"condRequired":t=b._getErrorMessage(p,c,i[q],i,q,d,b._condRequired),void 0!==t&&(n=!0);break;case"less":t=b._getErrorMessage(p,c,i[q],i,q,d,b._less);break;case"greater":t=b._getErrorMessage(p,c,i[q],i,q,d,b._greater)}if(w=!1,"object"==typeof t)switch(t.status){case"_break":w=!0;break;case"_error":t=t.message;break;case"_error_no_prompt":return!0}if(w)break;"string"==typeof t&&(l+=t+"<br/>",d.isError=!0,r++)}return!n&&!c.val()&&c.val().length<1&&(d.isError=!1),x=c.prop("type"),y=c.data("promptPosition")||d.promptPosition,("radio"==x||"checkbox"==x)&&p.find("input[name='"+k+"']").size()>1&&(c="inline"===y?a(p.find("input[name='"+k+"'][type!=hidden]:last")):a(p.find("input[name='"+k+"'][type!=hidden]:first")),d.showArrow=!1),c.is(":hidden")&&d.prettySelect&&(c=p.find("#"+d.usePrefix+b._jqSelector(c.attr("id"))+d.useSuffix)),d.isError&&d.showPrompts?b._showPrompt(c,l,m,!1,d):j||b._closePrompt(c),j||c.trigger("jqv.field.result",[c,d.isError,l]),z=a.inArray(c[0],d.InvalidFields),-1==z?d.isError&&d.InvalidFields.push(c[0]):d.isError||d.InvalidFields.splice(z,1),b._handleStatusCssClasses(c,d),d.isError&&d.onFieldFailure&&d.onFieldFailure(c),!d.isError&&d.onFieldSuccess&&d.onFieldSuccess(c),d.isError},_handleStatusCssClasses:function(a,b){b.addSuccessCssClassToField&&a.removeClass(b.addSuccessCssClassToField),b.addFailureCssClassToField&&a.removeClass(b.addFailureCssClassToField),b.addSuccessCssClassToField&&!b.isError&&a.addClass(b.addSuccessCssClassToField),b.addFailureCssClassToField&&b.isError&&a.addClass(b.addFailureCssClassToField)},_getErrorMessage:function(c,d,e,f,g,h,i){var k,l,m,n,o,p,j=jQuery.inArray(e,f);return("custom"===e||"funcCall"===e)&&(k=f[j+1],e=e+"["+k+"]",delete f[j]),l=e,m=d.attr("data-validation-engine")?d.attr("data-validation-engine"):d.attr("class"),n=m.split(" "),o="future"==e||"past"==e||"maxCheckbox"==e||"minCheckbox"==e?i(c,d,f,g,h):i(d,f,g,h),void 0!=o&&(p=b._getCustomErrorMessage(a(d),n,l,h),p&&(o=p)),o},_getCustomErrorMessage:function(a,c,d,e){var h,i,j,f=!1,g=/^custom\[.*\]$/.test(d)?b._validityProp.custom:b._validityProp[d];if(void 0!=g&&(f=a.attr("data-errormessage-"+g),void 0!=f))return f;if(f=a.attr("data-errormessage"),void 0!=f)return f;if(h="#"+a.attr("id"),"undefined"!=typeof e.custom_error_messages[h]&&"undefined"!=typeof e.custom_error_messages[h][d])f=e.custom_error_messages[h][d].message;else if(c.length>0)for(i=0;i<c.length&&c.length>0;i++)if(j="."+c[i],"undefined"!=typeof e.custom_error_messages[j]&&"undefined"!=typeof e.custom_error_messages[j][d]){f=e.custom_error_messages[j][d].message;break}return f||"undefined"==typeof e.custom_error_messages[d]||"undefined"==typeof e.custom_error_messages[d].message||(f=e.custom_error_messages[d].message),f},_validityProp:{required:"value-missing",custom:"custom-error",groupRequired:"value-missing",ajax:"custom-error",minSize:"range-underflow",maxSize:"range-overflow",min:"range-underflow",max:"range-overflow",past:"type-mismatch",future:"type-mismatch",dateRange:"type-mismatch",dateTimeRange:"type-mismatch",maxCheckbox:"range-overflow",minCheckbox:"range-underflow",equals:"pattern-mismatch",funcCall:"custom-error",creditCard:"pattern-mismatch",condRequired:"value-missing"},_less:function(b,c,d,e,f){var i,j,k,g=d[e+1],h=a(b.find("input[name='"+g.replace(/^#+/,"")+"']"));if(h.length&&(i=parseFloat(h.val()),j=parseFloat(c.val()),!isNaN(i)&&!isNaN(j)))return j>i?(k=f.allrules.less,k.alertText2?k.alertText+i+k.alertText2:k.alertText+i):void 0},_greater:function(b,c,d,e,f){var i,j,k,g=d[e+1],h=a(b.find("input[name='"+g.replace(/^#+/,"")+"']"));if(h.length&&(i=parseFloat(h.val()),j=parseFloat(c.val()),!isNaN(i)&&!isNaN(j)))return i>j?(k=f.allrules.greater,k.alertText2?k.alertText+i+k.alertText2:k.alertText+i):void 0},_required:function(b,c,d,e,f){var g,h,i,j,k;switch(b.prop("type")){case"text":case"password":case"textarea":case"file":case"select-one":case"select-multiple":default:if(g=a.trim(b.val()),h=a.trim(b.attr("data-validation-placeholder")),i=a.trim(b.attr("placeholder")),!g||h&&g==h||i&&g==i)return e.allrules[c[d]].alertText;break;case"radio":case"checkbox":if(f){if(!b.attr("checked"))return e.allrules[c[d]].alertTextCheckboxMultiple;break}if(j=b.closest("form, .validationEngineContainer"),k=b.attr("name"),0==j.find("input[name='"+k+"']:checked").size())return 1==j.find("input[name='"+k+"']:visible").size()?e.allrules[c[d]].alertTextCheckboxe:e.allrules[c[d]].alertTextCheckboxMultiple}},_groupRequired:function(c,d,e,f){var g="["+f.validateAttribute+"*="+d[e+1]+"]",h=!1;return c.closest("form, .validationEngineContainer").find(g).each(function(){return b._required(a(this),d,e,f)?void 0:(h=!0,!1)}),h?void 0:f.allrules[d[e]].alertText},_custom:function(a,b,c,d){var g,h,i,e=b[c+1],f=d.allrules[e];if(!f)return alert("jqv:custom rule not found - "+e),void 0;if(f.regex){if(h=f.regex,!h)return alert("jqv:custom regex not found - "+e),void 0;if(i=new RegExp(h),!i.test(a.val()))return d.allrules[e].alertText}else{if(!f.func)return alert("jqv:custom type not allowed "+e),void 0;if(g=f.func,"function"!=typeof g)return alert("jqv:custom parameter 'function' is no function - "+e),void 0;if(!g(a,b,c,d))return d.allrules[e].alertText}},_funcCall:function(a,b,c,d){var f,g,h,e=b[c+1];if(e.indexOf(".")>-1){for(g=e.split("."),h=window;g.length;)h=h[g.shift()];f=h}else f=window[e]||d.customFunctions[e];return"function"==typeof f?f(a,b,c,d):void 0},_equals:function(b,c,d,e){var f=c[d+1];return b.val()!=a("#"+f).val()?e.allrules.equals.alertText:void 0},_maxSize:function(a,b,c,d){var g,e=b[c+1],f=a.val().length;return f>e?(g=d.allrules.maxSize,g.alertText+e+g.alertText2):void 0},_minSize:function(a,b,c,d){var g,e=b[c+1],f=a.val().length;return e>f?(g=d.allrules.minSize,g.alertText+e+g.alertText2):void 0},_min:function(a,b,c,d){var g,e=parseFloat(b[c+1]),f=parseFloat(a.val());return e>f?(g=d.allrules.min,g.alertText2?g.alertText+e+g.alertText2:g.alertText+e):void 0},_max:function(a,b,c,d){var g,e=parseFloat(b[c+1]),f=parseFloat(a.val());return f>e?(g=d.allrules.max,g.alertText2?g.alertText+e+g.alertText2:g.alertText+e):void 0},_past:function(c,d,e,f,g){var j,k,l,h=e[f+1],i=a(c.find("input[name='"+h.replace(/^#+/,"")+"']"));if("now"==h.toLowerCase())j=new Date;else if(void 0!=i.val()){if(i.is(":disabled"))return;j=b._parseDate(i.val())}else j=b._parseDate(h);return k=b._parseDate(d.val()),k>j?(l=g.allrules.past,l.alertText2?l.alertText+b._dateToString(j)+l.alertText2:l.alertText+b._dateToString(j)):void 0},_future:function(c,d,e,f,g){var j,k,l,h=e[f+1],i=a(c.find("input[name='"+h.replace(/^#+/,"")+"']"));if("now"==h.toLowerCase())j=new Date;else if(void 0!=i.val()){if(i.is(":disabled"))return;j=b._parseDate(i.val())}else j=b._parseDate(h);return k=b._parseDate(d.val()),j>k?(l=g.allrules.future,l.alertText2?l.alertText+b._dateToString(j)+l.alertText2:l.alertText+b._dateToString(j)):void 0},_isDate:function(a){var b=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return b.test(a)},_isDateTime:function(a){var b=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return b.test(a)},_dateCompare:function(a,b){return new Date(a.toString())<new Date(b.toString())},_dateRange:function(a,c,d,e){return!e.firstOfGroup[0].value&&e.secondOfGroup[0].value||e.firstOfGroup[0].value&&!e.secondOfGroup[0].value?e.allrules[c[d]].alertText+e.allrules[c[d]].alertText2:b._isDate(e.firstOfGroup[0].value)&&b._isDate(e.secondOfGroup[0].value)?b._dateCompare(e.firstOfGroup[0].value,e.secondOfGroup[0].value)?void 0:e.allrules[c[d]].alertText+e.allrules[c[d]].alertText2:e.allrules[c[d]].alertText+e.allrules[c[d]].alertText2},_dateTimeRange:function(a,c,d,e){return!e.firstOfGroup[0].value&&e.secondOfGroup[0].value||e.firstOfGroup[0].value&&!e.secondOfGroup[0].value?e.allrules[c[d]].alertText+e.allrules[c[d]].alertText2:b._isDateTime(e.firstOfGroup[0].value)&&b._isDateTime(e.secondOfGroup[0].value)?b._dateCompare(e.firstOfGroup[0].value,e.secondOfGroup[0].value)?void 0:e.allrules[c[d]].alertText+e.allrules[c[d]].alertText2:e.allrules[c[d]].alertText+e.allrules[c[d]].alertText2},_maxCheckbox:function(a,b,c,d,e){var f=c[d+1],g=b.attr("name"),h=a.find("input[name='"+g+"']:checked").size();return h>f?(e.showArrow=!1,e.allrules.maxCheckbox.alertText2?e.allrules.maxCheckbox.alertText+" "+f+" "+e.allrules.maxCheckbox.alertText2:e.allrules.maxCheckbox.alertText):void 0},_minCheckbox:function(a,b,c,d,e){var f=c[d+1],g=b.attr("name"),h=a.find("input[name='"+g+"']:checked").size();return f>h?(e.showArrow=!1,e.allrules.minCheckbox.alertText+" "+f+" "+e.allrules.minCheckbox.alertText2):void 0},_creditCard:function(a,b,c,d){var j,h,i,k,e=!1,f=a.val().replace(/ +/g,"").replace(/-+/g,""),g=f.length;if(g>=14&&16>=g&&parseInt(f)>0){h=0,c=g-1,i=1,k=new String;do j=parseInt(f.charAt(c)),k+=0==i++%2?2*j:j;while(--c>=0);for(c=0;c<k.length;c++)h+=parseInt(k.charAt(c));e=0==h%10}return e?void 0:d.allrules.creditCard.alertText},_ajax:function(c,d,e,f){var l,m,o,p,q,g=d[e+1],h=f.allrules[g],i=h.extraData,j=h.extraDataDynamic,k={id:c.attr("id")};if(a.each(h.extraData,function(a){k[c.attr(a)]=c.val()}),"object"==typeof i)a.extend(k,i);else if("string"==typeof i)for(l=i.split("&"),e=0;e<l.length;e++)m=l[e].split("="),m[0]&&m[0]&&(k[m[0]]=m[1]);if(j)for(o=String(j).split(","),e=0;e<o.length;e++)p=o[e],a(p).length&&(q=c.closest("form, .validationEngineContainer").find(p).val(),p.replace("#","")+"="+escape(q),k[p.replace("#","")]=q);return"field"==f.eventTrigger&&delete f.ajaxValidCache[c.attr("id")],f.isError||b._checkAjaxFieldStatus(c.attr("id"),f)?void 0:(a.ajax({type:h.type?h.type:"get",url:h.url,cache:!1,dataType:"json",data:k,field:c,rule:h,methods:b,options:f,beforeSend:function(){},error:function(a,c){b._ajaxError(a,c)},success:function(d){var j,k,l,e=d.data,g=e.id,i=a("#"+g).eq(0);1==i.length&&(j=d.status,k=d.msg,j?(f.ajaxValidCache[g]=!0,k?f.allrules[k]&&(l=f.allrules[k].alertTextOk,l&&(k=l)):k=h.alertTextOk,f.showPrompts&&(k?b._showPrompt(i,k,"pass",!0,f):b._closePrompt(i)),"submit"==f.eventTrigger&&c.closest("form").submit()):(f.ajaxValidCache[g]=!1,f.isError=!0,k?f.allrules[k]&&(l=f.allrules[k].alertText,l&&(k=l)):k=h.alertText,f.showPrompts&&b._showPrompt(i,k,"",!0,f))),i.trigger("jqv.field.result",[i,f.isError,k])}}),h.alertTextLoad)},_ajaxError:function(a,b){0==a.status&&null==b?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+a.status+" "+b)},_dateToString:function(a){return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()},_parseDate:function(a){var b=a.split("-");return b==a&&(b=a.split("/")),b==a?(b=a.split("."),new Date(b[2],b[1]-1,b[0])):new Date(b[0],b[1]-1,b[2])},_showPrompt:function(c,d,e,f,g,h){var j,k,l;g.useTooltip?(c.data("jqv-prompt-at")instanceof jQuery?c=c.data("jqv-prompt-at"):c.data("jqv-prompt-at")&&(c=a(c.data("jqv-prompt-at"))),j=b._getPrompt(c),h&&(j=!1),a.trim(d)&&(j?b._updatePrompt(c,j,d,e,f,g):b._buildPrompt(c,d,e,f,g))):(k=a("."+b._getClassName(c.attr("id"))+"formError"),c.parent().find(k).length>0?k.html(d):(l=a("<strong></strong>"),l.addClass("parentForm"+b._getClassName(c.closest("form, .validationEngineContainer").attr("id"))),l.addClass(b._getClassName(c.attr("id"))+"formError"),l.html(d),c.after(l)))},_buildPrompt:function(c,d,e,f,g){var j,k,l,m,n,h=a("<div>");switch(h.addClass(b._getClassName(c.attr("id"))+"formError"),h.addClass("parentForm"+b._getClassName(c.closest("form, .validationEngineContainer").attr("id"))),h.addClass("formError"),e){case"pass":h.addClass("greenPopup");break;case"load":h.addClass("blackPopup")}if(f&&h.addClass("ajaxed"),a("<div>").addClass("formErrorContent").html(d).appendTo(h),j=c.data("promptPosition")||g.promptPosition,g.showArrow)switch(k=a("<div>").addClass("formErrorArrow"),"string"==typeof j&&(l=j.indexOf(":"),-1!=l&&(j=j.substring(0,l))),j){case"bottomLeft":case"bottomRight":h.find(".formErrorContent").before(k),k.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":k.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>'),h.append(k)}return g.addPromptClass&&h.addClass(g.addPromptClass),m=c.attr("data-required-class"),void 0!==m?h.addClass(m):g.prettySelect&&a("#"+c.attr("id")).next().is("select")&&(n=a("#"+c.attr("id").substr(g.usePrefix.length).substring(g.useSuffix.length)).attr("data-required-class"),void 0!==n&&h.addClass(n)),h.css({opacity:0}),"inline"===j?(h.addClass("inline"),"undefined"!=typeof c.attr("data-prompt-target")&&a("#"+c.attr("data-prompt-target")).length>0?h.appendTo(a("#"+c.attr("data-prompt-target"))):c.after(h)):c.before(h),l=b._calculatePosition(c,h,g),h.css({position:"inline"===j?"relative":"absolute",top:l.callerTopPosition,left:l.callerleftPosition,marginTop:l.marginTopSize,opacity:0}).data("callerField",c),g.autoHidePrompt&&setTimeout(function(){h.animate({opacity:0},function(){h.closest(".formErrorOuter").remove(),h.remove()})},g.autoHideDelay),h.animate({opacity:.87})},_updatePrompt:function(a,c,d,e,f,g,h){var i,j;c&&("undefined"!=typeof e&&("pass"==e?c.addClass("greenPopup"):c.removeClass("greenPopup"),"load"==e?c.addClass("blackPopup"):c.removeClass("blackPopup")),f?c.addClass("ajaxed"):c.removeClass("ajaxed"),c.find(".formErrorContent").html(d),i=b._calculatePosition(a,c,g),j={top:i.callerTopPosition,left:i.callerleftPosition,marginTop:i.marginTopSize},h?c.css(j):c.animate(j))},_closePrompt:function(a){var c=b._getPrompt(a);c&&c.fadeTo("fast",0,function(){c.parent(".formErrorOuter").remove(),c.remove()})},closePrompt:function(a){return b._closePrompt(a)},_getPrompt:function(c){var d=a(c).closest("form, .validationEngineContainer").attr("id"),e=b._getClassName(c.attr("id"))+"formError",f=a("."+b._escapeExpression(e)+".parentForm"+b._getClassName(d))[0];return f?a(f):void 0},_escapeExpression:function(a){return a.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(b){var c=a(document),d=a("body"),e=b&&b.hasClass("rtl")||b&&"rtl"===(b.attr("dir")||"").toLowerCase()||c.hasClass("rtl")||"rtl"===(c.attr("dir")||"").toLowerCase()||d.hasClass("rtl")||"rtl"===(d.attr("dir")||"").toLowerCase();return Boolean(e)},_calculatePosition:function(a,b,c){var d,e,f,k,l,m,n,o,p,g=a.width(),h=a.position().left,i=a.position().top;switch(a.height(),k=b.height(),d=e=0,f=-k,l=a.data("promptPosition")||c.promptPosition,m="",n="",o=0,p=0,"string"==typeof l&&-1!=l.indexOf(":")&&(m=l.substring(l.indexOf(":")+1),l=l.substring(0,l.indexOf(":")),-1!=m.indexOf(",")&&(n=m.substring(m.indexOf(",")+1),m=m.substring(0,m.indexOf(",")),p=parseInt(n),isNaN(p)&&(p=0)),o=parseInt(m),isNaN(m)&&(m=0)),l){default:case"topRight":e+=h+g-30,d+=i;
break;case"topLeft":d+=i,e+=h;break;case"centerRight":d=i+4,f=0,e=h+a.outerWidth(!0)+5;break;case"centerLeft":e=h-(b.width()+2),d=i+4,f=0;break;case"bottomLeft":d=i+a.height()+5,f=0,e=h;break;case"bottomRight":e=h+g-30,d=i+a.height()+5,f=0;break;case"inline":e=0,d=0,f=0}return e+=o,d+=p,{callerTopPosition:d+"px",callerleftPosition:e+"px",marginTopSize:f+"px"}},_saveOptions:function(b,c){var d,e;return a.validationEngineLanguage?d=a.validationEngineLanguage.allRules:a.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page"),a.validationEngine.defaults.allrules=d,e=a.extend(!0,{},a.validationEngine.defaults,c),b.data("jqv",e),e},_getClassName:function(a){return a?a.replace(/:/g,"_").replace(/\./g,"_"):void 0},_jqSelector:function(a){return a.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")},_condRequired:function(a,c,d,e){var f,g;for(f=d+1;f<c.length;f++)if(g=jQuery("#"+c[f]).first(),g.length&&void 0==b._required(g,["required"],0,e,!0))return b._required(a,["required"],0,e)},_submitButtonClick:function(){var c=a(this),d=c.closest("form, .validationEngineContainer");d.data("jqv_submitButton",c.attr("id"))}};a.fn.valid=a.fn.validationEngine=function(c){var d=a(this);return d[0]?"string"==typeof c&&"_"!=c.charAt(0)&&b[c]?("showPrompt"!=c&&"hide"!=c&&"hideAll"!=c&&b.init.apply(d),b[c].apply(d,Array.prototype.slice.call(arguments,1))):"object"!=typeof c&&c?(a.error("Method "+c+" does not exist in jQuery.validationEngine"),void 0):(b.init.apply(d,arguments),b.attach.apply(d)):d},a.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,showPrompts:!0,validateNonVisibleFields:!1,promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,ajaxFormValidationMethod:"post",onAjaxFormComplete:a.noop,onBeforeAjaxFormValidation:a.noop,onValidationComplete:!1,doNotShowAllErrosOnSubmit:!1,custom_error_messages:{},binded:!0,showArrow:!0,isError:!1,maxErrorsPerField:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onFieldSuccess:!1,onFieldFailure:!1,onSuccess:!1,onFailure:!1,validateAttribute:"class",addSuccessCssClassToField:"",addFailureCssClassToField:"",autoHidePrompt:!1,autoHideDelay:3e3,fadeDuration:.3,prettySelect:!1,addPromptClass:"",usePrefix:"",useSuffix:"",showOneMessage:!1,useTooltip:!0}}}(jQuery),function(a){a.fn.validationEngineLanguage=function(){},a.validationEngineLanguage={newLang:function(){a.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* 此处不可空白",alertTextCheckboxMultiple:"* 请选择一个项目",alertTextCheckboxe:"* 您必须钩选此栏",alertTextDateRange:"* 日期范围不可空白"},requiredInFunction:{func:function(a){return"test"==a.val()?!0:!1},alertText:"* Field must equal test"},dateRange:{regex:"none",alertText:"* 无效的 ",alertText2:" 日期范围"},dateTimeRange:{regex:"none",alertText:"* 无效的 ",alertText2:" 时间范围"},minSize:{regex:"none",alertText:"* 最少 ",alertText2:" 个字符"},maxSize:{regex:"none",alertText:"* 最多 ",alertText2:" 个字符"},groupRequired:{regex:"none",alertText:"* 你必需选填其中一个栏位"},min:{regex:"none",alertText:"* 最小值為 "},max:{regex:"none",alertText:"* 最大值为 "},past:{regex:"none",alertText:"* 日期必需早于 "},future:{regex:"none",alertText:"* 日期必需晚于 "},maxCheckbox:{regex:"none",alertText:"* 最多选取 ",alertText2:" 个项目"},minCheckbox:{regex:"none",alertText:"* 请选择 ",alertText2:" 个项目"},equals:{regex:"none",alertText:"* 请输入与上面相同的密码"},creditCard:{regex:"none",alertText:"* 无效的信用卡号码"},phone:{regex:/^([\+][0-9]{1,3}[ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,alertText:"* 无效的电话号码"},email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,alertText:"* 邮件地址无效"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* 不是有效的整数"},number:{regex:/^[\-\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\.]([0-9]+))?$/,alertText:"* 无效的数字"},date:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,alertText:"* 无效的日期，格式必需为 YYYY-MM-DD",alertTextOk:"日期通过"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* 无效的 IP 地址"},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* 不合法的 URL地址"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* 只能填数字"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* 只接受英文字母大小写"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* 只接受数字和字母"},ajaxUserCall:{url:"ajaxValidateFieldUser.json",type:"post",extraData:"",alertTextOk:"此帐号名称可以使用",alertText:"* 此名称已被其他人使用",alertTextLoad:"* 正在确认名称是否有其他人使用，请稍等。"},ajaxUserCallPhp:{url:globalObj.url+"/check_email",extraData:{name:""},type:"post",alertTextOk:"* 此帐号名称可以使用",alertText:"* 此名称已被其他人使用",alertTextLoad:"* 正在确认帐号名称是否有其他人使用，请稍等。"},ajaxNameCall:{url:"ajaxValidateFieldName",alertText:"* 此名称可以使用",alertTextOk:"* 此名称已被其他人使用",alertTextLoad:"* 正在确认名称是否有其他人使用，请稍等。"},ajaxNameCallPhp:{url:"phpajax/ajaxValidateFieldName.php",alertText:"* 此名称已被其他人使用",alertTextLoad:"* 正在确认名称是否有其他人使用，请稍等。"},validate2fields:{alertText:"* 请输入 HELLO"},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* 无效的日期格式"},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* 无效的日期或时间格式",alertText2:"可接受的格式： ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM 或 ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"},less:{regex:"none",alertText:"* 必须小于 "},greater:{regex:"none",alertText:"* 必须大于 "},mobile:{regex:/^(13|14|15|18){1}[0-9]{9}$/,alertText:"* 请输入正确的手机号码"},password:{regex:/^(?=.*[a-zA-Z]).{8,16}$/,alertText:"* 请输入正确的密码格式"}}}},a.validationEngineLanguage.newLang()}(jQuery),X.V={checkLength:function(a){var b=a.attr("maxlength")||a.data("len"),c=a.data("lentext")||"不得超过"+b+"个字数";return a.val().length>parseInt(b)?c:void 0},checkDigitl:function(a,b){var f,g,h,i,c=b[2],d=b[3],e=[];for(f=0;c>f;f++)e.push(9);return e=parseInt(e.join(""))+1,g="请输入"+e+"以下的整数",h="(([1-9]{1}\\d{0,"+(c-1)+"})|([0]{1}))",d>0&&(h=h+"(\\.(\\d){1,"+d+"})",g="请输入"+e+"以下且小数点保留"+d+"位"),h="^"+h+"?$",i=new RegExp(h),g=b[5]||g,i.test(a.val())?void 0:g},checkEmail:function(a){var b=a.val(),c=/^([a-z\d]+)([\._a-z\d-]+)?@([a-z\d-])+(\.[a-z\d-]+)*\.([a-z]{2,4})$/i;return c.test(b)?void 0:"请输入正确的邮箱"},checkPhone:function(a){var b=a.val(),c=/^[\-\+]?(([0-9]+)([\.,]([0-9]+))?|([\.,]([0-9]+))?)$/;return c.test(b)?void 0:"请输入正确的电话号码"},checkUrl:function(a){var b=a.val(),c=/^(https?:\/\/)([\w-]+\.)+[a-z]{2,4}\b/i;return c.test(b)?void 0:"请输入正确的网址"},checkAddress:function(a){var b=a.val(),c=/^[A-Za-z0-9_\\u4e00-\\u9fa5]+$/;return c.test(b)?void 0:"联系地址必须由数字、英文字母中文及下划线组成"},checkChinese:function(a){var e=a.val(),f=/^[\u2E80-\uFE4F]+$/;return f.test(e)?void 0:"请输入中文汉字"},subTitle:function(a){var f=(a.val(),/^[\u2E80-\uFE4F]+$/),g=0,h=a.data("length")||12;return $.each(a.val().split(""),function(a,b){g+=f.test(b)?2:1}),g>h?"选题标题最多12个汉字，24个英文":void 0},checkString:function(a){var e=a.val(),f=/^[\u2E80-\uFE4Fa-zA-Z-_0-9\s]+$/;return f.test(e)?e.indexOf("__")>-1?"请输入合理的标题":void 0:"请输入正确的字符格式,仅限中英文数字、空格、下划线与横线"},checkEnglish:function(a){var e=a.val(),f=/^[a-z]+$/;return f.test(e)?void 0:"请输入小写英文字母"},checkSearchOne:function(a){var e=a.val(),f=$(a.attr("validone")).val(),g=/^\s*$/;return g.test(e)&&g.test(f)?"请填写或选择其中一项":void 0},checkRadio:function(a,b){var e=$("#"+b[2]+" input[type=radio][checked]").length;return 0==e?"必须选择一个选项":void 0},checkName:function(a,b){var e=a.val(),f=b[2],g=b[3]?b[3]:"",h=a.data("only")?new RegExp("^[A-Za-z\\u4e00-\\u9fa5]{"+f+"}$"):new RegExp("^[A-Za-z\\u4e00-\\u9fa5]{"+f+","+g+"}$");return h.test(e)?void 0:a.attr("placeholder")},checkNum:function(a,b){var e=a.val(),f=b[2],g=b[3]?b[3]:"",h=a.data("only")?new RegExp("^\\d{"+f+"}$"):new RegExp("^\\d{"+f+","+g+"}$");return h.test(e)?void 0:a.attr("placeholder")},checkDS:function(a,b){var e=a.val(),f=b[2],g=b[3]?b[3]:"",h=a.data("only")?new RegExp("^[\\da-zA-Z]{"+f+"}$"):new RegExp("^[\\da-zA-Z]{"+f+","+g+"}$");return h.test(e)?void 0:a.attr("placeholder")},checkIdentity:function(a){var e=a.val(),f=/^[1-9]\d{16}[x\d]$/i;return f.test(e)?void 0:a.attr("placeholder")||"请输入正确的身份证号"},checkCrash:function(a,b){var e=a.val(),f=b[2]-1<=0?0:b[2]-1,g=b[3]-1<=0?0:b[3]-1,h=new RegExp("^(?:[1-9]\\d{0,"+f+"}|0|[1-9]\\d{0,"+f+"}\\.\\d{0,"+g+"}[1-9]|0\\.\\d{0,"+g+"}[1-9])$");return h.test(e)?void 0:"请输入有效的数字金额"}},swfobject=function(){function A(){var a,c,d;if(!t){try{a=i.getElementsByTagName("body")[0].appendChild(Q("span")),a.parentNode.removeChild(a)}catch(b){return}for(t=!0,c=l.length,d=0;c>d;d++)l[d]()}}function B(a){t?a():l[l.length]=a}function C(b){if(typeof h.addEventListener!=a)h.addEventListener("load",b,!1);else if(typeof i.addEventListener!=a)i.addEventListener("load",b,!1);else if(typeof h.attachEvent!=a)R(h,"onload",b);else if("function"==typeof h.onload){var c=h.onload;h.onload=function(){c(),b()}}else h.onload=b}function D(){k?E():F()}function E(){var f,g,c=i.getElementsByTagName("body")[0],d=Q(b);d.setAttribute("type",e),f=c.appendChild(d),f?(g=0,function(){if(typeof f.GetVariable!=a){var b=f.GetVariable("$version");b&&(b=b.split(" ")[1].split(","),y.pv=[parseInt(b[0],10),parseInt(b[1],10),parseInt(b[2],10)])}else if(10>g)return g++,setTimeout(arguments.callee,10),void 0;c.removeChild(d),f=null,F()}()):F()}function F(){var c,d,e,f,g,h,i,j,k,l,n,b=m.length;if(b>0)for(c=0;b>c;c++)if(d=m[c].id,e=m[c].callbackFn,f={success:!1,id:d},y.pv[0]>0){if(g=P(d))if(!S(m[c].swfVersion)||y.wk&&y.wk<312)if(m[c].expressInstall&&H()){for(h={},h.data=m[c].expressInstall,h.width=g.getAttribute("width")||"0",h.height=g.getAttribute("height")||"0",g.getAttribute("class")&&(h.styleclass=g.getAttribute("class")),g.getAttribute("align")&&(h.align=g.getAttribute("align")),i={},j=g.getElementsByTagName("param"),k=j.length,l=0;k>l;l++)"movie"!=j[l].getAttribute("name").toLowerCase()&&(i[j[l].getAttribute("name")]=j[l].getAttribute("value"));I(h,i,d,e)}else J(g),e&&e(f);else U(d,!0),e&&(f.success=!0,f.ref=G(d),e(f))}else U(d,!0),e&&(n=G(d),n&&typeof n.SetVariable!=a&&(f.success=!0,f.ref=n),e(f))}function G(c){var f,d=null,e=P(c);return e&&"OBJECT"==e.nodeName&&(typeof e.SetVariable!=a?d=e:(f=e.getElementsByTagName(b)[0],f&&(d=f))),d}function H(){return!u&&S("6.0.65")&&(y.win||y.mac)&&!(y.wk&&y.wk<312)}function I(b,c,d,e){var g,j,k,l;u=!0,r=e||null,s={success:!1,id:d},g=P(d),g&&("OBJECT"==g.nodeName?(p=K(g),q=null):(p=g,q=d),b.id=f,(typeof b.width==a||!/%$/.test(b.width)&&parseInt(b.width,10)<310)&&(b.width="310"),(typeof b.height==a||!/%$/.test(b.height)&&parseInt(b.height,10)<137)&&(b.height="137"),i.title=i.title.slice(0,47)+" - Flash Player Installation",j=y.ie&&y.win?"ActiveX":"PlugIn",k="MMredirectURL="+h.location.toString().replace(/&/g,"%26")+"&MMplayerType="+j+"&MMdoctitle="+i.title,typeof c.flashvars!=a?c.flashvars+="&"+k:c.flashvars=k,y.ie&&y.win&&4!=g.readyState&&(l=Q("div"),d+="SWFObjectNew",l.setAttribute("id",d),g.parentNode.insertBefore(l,g),g.style.display="none",function(){4==g.readyState?g.parentNode.removeChild(g):setTimeout(arguments.callee,10)}()),L(b,c,d))}function J(a){if(y.ie&&y.win&&4!=a.readyState){var b=Q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(K(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(K(a),a)}function K(a){var d,e,f,g,c=Q("div");if(y.win&&y.ie)c.innerHTML=a.innerHTML;else if(d=a.getElementsByTagName(b)[0],d&&(e=d.childNodes))for(f=e.length,g=0;f>g;g++)1==e[g].nodeType&&"PARAM"==e[g].nodeName||8==e[g].nodeType||c.appendChild(e[g].cloneNode(!0));return c}function L(c,d,f){var g,i,j,k,l,m,o,p,h=P(f);if(y.wk&&y.wk<312)return g;if(h)if(typeof c.id==a&&(c.id=f),y.ie&&y.win){i="";for(j in c)c[j]!=Object.prototype[j]&&("data"==j.toLowerCase()?d.movie=c[j]:"styleclass"==j.toLowerCase()?i+=' class="'+c[j]+'"':"classid"!=j.toLowerCase()&&(i+=" "+j+'="'+c[j]+'"'));k="";for(l in d)d[l]!=Object.prototype[l]&&(k+='<param name="'+l+'" value="'+d[l]+'" />');h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+i+">"+k+"</object>",n[n.length]=c.id,g=P(c.id)}else{m=Q(b),m.setAttribute("type",e);for(o in c)c[o]!=Object.prototype[o]&&("styleclass"==o.toLowerCase()?m.setAttribute("class",c[o]):"classid"!=o.toLowerCase()&&m.setAttribute(o,c[o]));for(p in d)d[p]!=Object.prototype[p]&&"movie"!=p.toLowerCase()&&M(m,p,d[p]);h.parentNode.replaceChild(m,h),g=m}return g}function M(a,b,c){var d=Q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function N(a){var b=P(a);b&&"OBJECT"==b.nodeName&&(y.ie&&y.win?(b.style.display="none",function(){4==b.readyState?O(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function O(a){var c,b=P(a);if(b){for(c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function P(a){var b=null;try{b=i.getElementById(a)}catch(c){}return b}function Q(a){return i.createElement(a)}function R(a,b,c){a.attachEvent(b,c),o[o.length]=[a,b,c]}function S(a){var b=y.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function T(c,d,e,f){var g,h,j;y.ie&&y.mac||(g=i.getElementsByTagName("head")[0],g&&(h=e&&"string"==typeof e?e:"screen",f&&(v=null,w=null),v&&w==h||(j=Q("style"),j.setAttribute("type","text/css"),j.setAttribute("media",h),v=g.appendChild(j),y.ie&&y.win&&typeof i.styleSheets!=a&&i.styleSheets.length>0&&(v=i.styleSheets[i.styleSheets.length-1]),w=h),y.ie&&y.win?v&&typeof v.addRule==b&&v.addRule(c,d):v&&typeof i.createTextNode!=a&&v.appendChild(i.createTextNode(c+" {"+d+"}"))))}function U(a,b){if(x){var c=b?"visible":"hidden";t&&P(a)?P(a).style.visibility=c:T("#"+a,"visibility:"+c)}}function V(b){var c=/[\\\"<>\.;]/,d=null!=c.exec(b);return d&&typeof encodeURIComponent!=a?encodeURIComponent(b):b}var p,q,r,s,v,w,a="undefined",b="object",c="Shockwave Flash",d="ShockwaveFlash.ShockwaveFlash",e="application/x-shockwave-flash",f="SWFObjectExprInst",g="onreadystatechange",h=window,i=document,j=navigator,k=!1,l=[D],m=[],n=[],o=[],t=!1,u=!1,x=!0,y=function(){var s,f=typeof i.getElementById!=a&&typeof i.getElementsByTagName!=a&&typeof i.createElement!=a,g=j.userAgent.toLowerCase(),l=j.platform.toLowerCase(),m=l?/win/.test(l):/win/.test(g),n=l?/mac/.test(l):/mac/.test(g),o=/webkit/.test(g)?parseFloat(g.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,p=!1,q=[0,0,0],r=null;if(typeof j.plugins!=a&&typeof j.plugins[c]==b)r=j.plugins[c].description,!r||typeof j.mimeTypes!=a&&j.mimeTypes[e]&&!j.mimeTypes[e].enabledPlugin||(k=!0,p=!1,r=r.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),q[0]=parseInt(r.replace(/^(.*)\..*$/,"$1"),10),q[1]=parseInt(r.replace(/^.*\.(.*)\s.*$/,"$1"),10),q[2]=/[a-zA-Z]/.test(r)?parseInt(r.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof h.ActiveXObject!=a)try{s=new ActiveXObject(d),s&&(r=s.GetVariable("$version"),r&&(p=!0,r=r.split(" ")[1].split(","),q=[parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10)]))}catch(t){}return{w3:f,pv:q,wk:o,ie:p,win:m,mac:n}}();return function(){y.w3&&((typeof i.readyState!=a&&"complete"==i.readyState||typeof i.readyState==a&&(i.getElementsByTagName("body")[0]||i.body))&&A(),t||(typeof i.addEventListener!=a&&i.addEventListener("DOMContentLoaded",A,!1),y.ie&&y.win&&(i.attachEvent(g,function(){"complete"==i.readyState&&(i.detachEvent(g,arguments.callee),A())}),h==top&&function(){if(!t){try{i.documentElement.doScroll("left")}catch(a){return setTimeout(arguments.callee,0),void 0}A()}}()),y.wk&&function(){return t?void 0:/loaded|complete/.test(i.readyState)?(A(),void 0):(setTimeout(arguments.callee,0),void 0)}(),C(A)))}(),function(){y.ie&&y.win&&window.attachEvent("onunload",function(){var b,c,d,e,f,a=o.length;for(b=0;a>b;b++)o[b][0].detachEvent(o[b][1],o[b][2]);for(c=n.length,d=0;c>d;d++)N(n[d]);for(e in y)y[e]=null;y=null;for(f in swfobject)swfobject[f]=null;swfobject=null})}(),{registerObject:function(a,b,c,d){if(y.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,m[m.length]=e,U(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){return y.w3?G(a):void 0},embedSWF:function(c,d,e,f,g,h,i,j,k,l){var m={success:!1,id:d};y.w3&&!(y.wk&&y.wk<312)&&c&&d&&e&&f&&g?(U(d,!1),B(function(){var n,o,p,q,r,s;if(e+="",f+="",n={},k&&typeof k===b)for(o in k)n[o]=k[o];if(n.data=c,n.width=e,n.height=f,p={},j&&typeof j===b)for(q in j)p[q]=j[q];if(i&&typeof i===b)for(r in i)typeof p.flashvars!=a?p.flashvars+="&"+r+"="+i[r]:p.flashvars=r+"="+i[r];if(S(g))s=L(n,p,d),n.id==d&&U(d,!0),m.success=!0,m.ref=s;else{if(h&&H())return n.data=h,I(n,p,d,l),void 0;U(d,!0)}l&&l(m)})):l&&l(m)},switchOffAutoHideShow:function(){x=!1},ua:y,getFlashPlayerVersion:function(){return{major:y.pv[0],minor:y.pv[1],release:y.pv[2]}},hasFlashPlayerVersion:S,createSWF:function(a,b,c){return y.w3?L(a,b,c):void 0},showExpressInstall:function(a,b,c,d){y.w3&&H()&&I(a,b,c,d)},removeSWF:function(a){y.w3&&N(a)},createCSS:function(a,b,c,d){y.w3&&T(a,b,c,d)},addDomLoadEvent:B,addLoadEvent:C,getQueryParamValue:function(a){var c,d,b=i.location.search||i.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return V(b);for(c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return V(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(u){var a=P(f);a&&p&&(a.parentNode.replaceChild(p,a),q&&(U(q,!0),y.ie&&y.win&&(p.style.display="block")),r&&r(s)),u=!1}}}}(),void 0==SWFUpload&&(SWFUpload=function(a){this.initSWFUpload(a)}),SWFUpload.prototype.initSWFUpload=function(a){try{this.customSettings={},this.settings=a,this.eventQueue=[],this.movieName="SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(),this.loadFlash(),this.displayDebugInfo()}catch(b){throw delete SWFUpload.instances[this.movieName],b}},SWFUpload.instances={},SWFUpload.movieCount=0,SWFUpload.version="2.2.0 2009-03-25",SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130},SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290},SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5},SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120},SWFUpload.CURSOR={ARROW:-1,HAND:-2},SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"},SWFUpload.completeURL=function(a){if("string"!=typeof a||a.match(/^https?:\/\//i)||a.match(/^\//))return a;window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");var c=window.location.pathname.lastIndexOf("/");return path=0>=c?"/":window.location.pathname.substr(0,c)+"/",path+a},SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(a,b){this.settings[a]=void 0==this.settings[a]?b:this.settings[a]},this.ensureDefault("upload_url",""),this.ensureDefault("preserve_relative_urls",!1),this.ensureDefault("file_post_name","Filedata"),this.ensureDefault("post_params",{}),this.ensureDefault("use_query_string",!1),this.ensureDefault("requeue_on_error",!1),this.ensureDefault("http_success",[]),this.ensureDefault("assume_success_timeout",0),this.ensureDefault("file_types","*.*"),this.ensureDefault("file_types_description","All Files"),this.ensureDefault("file_size_limit",0),this.ensureDefault("file_upload_limit",0),this.ensureDefault("file_queue_limit",0),this.ensureDefault("flash_url","swfupload.swf"),this.ensureDefault("prevent_swf_caching",!0),this.ensureDefault("button_image_url",""),this.ensureDefault("button_width",1),this.ensureDefault("button_height",1),this.ensureDefault("button_text",""),this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;"),this.ensureDefault("button_text_top_padding",0),this.ensureDefault("button_text_left_padding",0),this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES),this.ensureDefault("button_disabled",!1),this.ensureDefault("button_placeholder_id",""),this.ensureDefault("button_placeholder",null),this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW),this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW),this.ensureDefault("debug",!1),this.settings.debug_enabled=this.settings.debug,this.settings.return_upload_start_handler=this.returnUploadStart,this.ensureDefault("swfupload_loaded_handler",null),this.ensureDefault("file_dialog_start_handler",null),this.ensureDefault("file_queued_handler",null),this.ensureDefault("file_queue_error_handler",null),this.ensureDefault("file_dialog_complete_handler",null),this.ensureDefault("upload_start_handler",null),this.ensureDefault("upload_progress_handler",null),this.ensureDefault("upload_error_handler",null),this.ensureDefault("upload_success_handler",null),this.ensureDefault("upload_complete_handler",null),this.ensureDefault("debug_handler",this.debugMessage),this.ensureDefault("custom_settings",{}),this.customSettings=this.settings.custom_settings,this.settings.prevent_swf_caching&&(this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime()),this.settings.preserve_relative_urls||(this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url),this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)),delete this.ensureDefault},SWFUpload.prototype.loadFlash=function(){var a,b;if(null!==document.getElementById(this.movieName))throw"ID "+this.movieName+" is already in use. The Flash Object could not be added";if(a=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder,void 0==a)throw"Could not find the placeholder element: "+this.settings.button_placeholder_id;b=document.createElement("div"),b.innerHTML=this.getFlashHTML(),a.parentNode.replaceChild(b.firstChild,a),void 0==window[this.movieName]&&(window[this.movieName]=this.getMovieElement())},SWFUpload.prototype.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.settings.flash_url,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")},SWFUpload.prototype.getFlashVars=function(){var a=this.buildParamString(),b=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(b),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",encodeURIComponent(a),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")},SWFUpload.prototype.getMovieElement=function(){if(void 0==this.movieElement&&(this.movieElement=document.getElementById(this.movieName)),null===this.movieElement)throw"Could not find Flash element";return this.movieElement},SWFUpload.prototype.buildParamString=function(){var c,a=this.settings.post_params,b=[];if("object"==typeof a)for(c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c.toString())+"="+encodeURIComponent(a[c].toString()));return b.join("&amp;")},SWFUpload.prototype.destroy=function(){var a,b;try{if(this.cancelUpload(null,!1),a=null,a=this.getMovieElement(),a&&"unknown"==typeof a.CallFunction){for(b in a)try{"function"==typeof a[b]&&(a[b]=null)}catch(c){}try{a.parentNode.removeChild(a)}catch(d){}}return window[this.movieName]=null,SWFUpload.instances[this.movieName]=null,delete SWFUpload.instances[this.movieName],this.movieElement=null,this.settings=null,this.customSettings=null,this.eventQueue=null,this.movieName=null,!0}catch(e){return!1}},SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","	","upload_url:               ",this.settings.upload_url,"\n","	","flash_url:                ",this.settings.flash_url,"\n","	","use_query_string:         ",this.settings.use_query_string.toString(),"\n","	","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","	","http_success:             ",this.settings.http_success.join(", "),"\n","	","assume_success_timeout:   ",this.settings.assume_success_timeout,"\n","	","file_post_name:           ",this.settings.file_post_name,"\n","	","post_params:              ",this.settings.post_params.toString(),"\n","	","file_types:               ",this.settings.file_types,"\n","	","file_types_description:   ",this.settings.file_types_description,"\n","	","file_size_limit:          ",this.settings.file_size_limit,"\n","	","file_upload_limit:        ",this.settings.file_upload_limit,"\n","	","file_queue_limit:         ",this.settings.file_queue_limit,"\n","	","debug:                    ",this.settings.debug.toString(),"\n","	","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","	","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","	","button_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n","	","button_image_url:         ",this.settings.button_image_url.toString(),"\n","	","button_width:             ",this.settings.button_width.toString(),"\n","	","button_height:            ",this.settings.button_height.toString(),"\n","	","button_text:              ",this.settings.button_text.toString(),"\n","	","button_text_style:        ",this.settings.button_text_style.toString(),"\n","	","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","	","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","	","button_action:            ",this.settings.button_action.toString(),"\n","	","button_disabled:          ",this.settings.button_disabled.toString(),"\n","	","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","	","swfupload_loaded_handler assigned:  ",("function"==typeof this.settings.swfupload_loaded_handler).toString(),"\n","	","file_dialog_start_handler assigned: ",("function"==typeof this.settings.file_dialog_start_handler).toString(),"\n","	","file_queued_handler assigned:       ",("function"==typeof this.settings.file_queued_handler).toString(),"\n","	","file_queue_error_handler assigned:  ",("function"==typeof this.settings.file_queue_error_handler).toString(),"\n","	","upload_start_handler assigned:      ",("function"==typeof this.settings.upload_start_handler).toString(),"\n","	","upload_progress_handler assigned:   ",("function"==typeof this.settings.upload_progress_handler).toString(),"\n","	","upload_error_handler assigned:      ",("function"==typeof this.settings.upload_error_handler).toString(),"\n","	","upload_success_handler assigned:    ",("function"==typeof this.settings.upload_success_handler).toString(),"\n","	","upload_complete_handler assigned:   ",("function"==typeof this.settings.upload_complete_handler).toString(),"\n","	","debug_handler assigned:             ",("function"==typeof this.settings.debug_handler).toString(),"\n"].join(""))},SWFUpload.prototype.addSetting=function(a,b,c){return this.settings[a]=void 0==b?c:b},SWFUpload.prototype.getSetting=function(a){return void 0!=this.settings[a]?this.settings[a]:""},SWFUpload.prototype.callFlash=function(functionName,argumentArray){var movieElement,returnValue,returnString;argumentArray=argumentArray||[],movieElement=this.getMovieElement();try{returnString=movieElement.CallFunction('<invoke name="'+functionName+'" returntype="javascript">'+__flash__argumentsToXML(argumentArray,0)+"</invoke>"),returnValue=eval(returnString)
}catch(ex){throw"Call to "+functionName+" failed"}return void 0!=returnValue&&"object"==typeof returnValue.post&&(returnValue=this.unescapeFilePostParams(returnValue)),returnValue},SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")},SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")},SWFUpload.prototype.startUpload=function(a){this.callFlash("StartUpload",[a])},SWFUpload.prototype.cancelUpload=function(a,b){b!==!1&&(b=!0),this.callFlash("CancelUpload",[a,b])},SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")},SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")},SWFUpload.prototype.setStats=function(a){this.callFlash("SetStats",[a])},SWFUpload.prototype.getFile=function(a){return"number"==typeof a?this.callFlash("GetFileByIndex",[a]):this.callFlash("GetFile",[a])},SWFUpload.prototype.addFileParam=function(a,b,c){return this.callFlash("AddFileParam",[a,b,c])},SWFUpload.prototype.removeFileParam=function(a,b){this.callFlash("RemoveFileParam",[a,b])},SWFUpload.prototype.setUploadURL=function(a){this.settings.upload_url=a.toString(),this.callFlash("SetUploadURL",[a])},SWFUpload.prototype.setPostParams=function(a){this.settings.post_params=a,this.callFlash("SetPostParams",[a])},SWFUpload.prototype.addPostParam=function(a,b){this.settings.post_params[a]=b,this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.removePostParam=function(a){delete this.settings.post_params[a],this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.setFileTypes=function(a,b){this.settings.file_types=a,this.settings.file_types_description=b,this.callFlash("SetFileTypes",[a,b])},SWFUpload.prototype.setFileSizeLimit=function(a){this.settings.file_size_limit=a,this.callFlash("SetFileSizeLimit",[a])},SWFUpload.prototype.setFileUploadLimit=function(a){this.settings.file_upload_limit=a,this.callFlash("SetFileUploadLimit",[a])},SWFUpload.prototype.setFileQueueLimit=function(a){this.settings.file_queue_limit=a,this.callFlash("SetFileQueueLimit",[a])},SWFUpload.prototype.setFilePostName=function(a){this.settings.file_post_name=a,this.callFlash("SetFilePostName",[a])},SWFUpload.prototype.setUseQueryString=function(a){this.settings.use_query_string=a,this.callFlash("SetUseQueryString",[a])},SWFUpload.prototype.setRequeueOnError=function(a){this.settings.requeue_on_error=a,this.callFlash("SetRequeueOnError",[a])},SWFUpload.prototype.setHTTPSuccess=function(a){"string"==typeof a&&(a=a.replace(" ","").split(",")),this.settings.http_success=a,this.callFlash("SetHTTPSuccess",[a])},SWFUpload.prototype.setAssumeSuccessTimeout=function(a){this.settings.assume_success_timeout=a,this.callFlash("SetAssumeSuccessTimeout",[a])},SWFUpload.prototype.setDebugEnabled=function(a){this.settings.debug_enabled=a,this.callFlash("SetDebugEnabled",[a])},SWFUpload.prototype.setButtonImageURL=function(a){void 0==a&&(a=""),this.settings.button_image_url=a,this.callFlash("SetButtonImageURL",[a])},SWFUpload.prototype.setButtonDimensions=function(a,b){this.settings.button_width=a,this.settings.button_height=b;var c=this.getMovieElement();void 0!=c&&(c.style.width=a+"px",c.style.height=b+"px"),this.callFlash("SetButtonDimensions",[a,b])},SWFUpload.prototype.setButtonText=function(a){this.settings.button_text=a,this.callFlash("SetButtonText",[a])},SWFUpload.prototype.setButtonTextPadding=function(a,b){this.settings.button_text_top_padding=b,this.settings.button_text_left_padding=a,this.callFlash("SetButtonTextPadding",[a,b])},SWFUpload.prototype.setButtonTextStyle=function(a){this.settings.button_text_style=a,this.callFlash("SetButtonTextStyle",[a])},SWFUpload.prototype.setButtonDisabled=function(a){this.settings.button_disabled=a,this.callFlash("SetButtonDisabled",[a])},SWFUpload.prototype.setButtonAction=function(a){this.settings.button_action=a,this.callFlash("SetButtonAction",[a])},SWFUpload.prototype.setButtonCursor=function(a){this.settings.button_cursor=a,this.callFlash("SetButtonCursor",[a])},SWFUpload.prototype.queueEvent=function(a,b){void 0==b?b=[]:b instanceof Array||(b=[b]);var c=this;if("function"==typeof this.settings[a])this.eventQueue.push(function(){this.settings[a].apply(this,b)}),setTimeout(function(){c.executeNextEvent()},0);else if(null!==this.settings[a])throw"Event handler "+a+" is unknown or is not a function"},SWFUpload.prototype.executeNextEvent=function(){var a=this.eventQueue?this.eventQueue.shift():null;"function"==typeof a&&a.apply(this)},SWFUpload.prototype.unescapeFilePostParams=function(a){var d,e,f,b=/[$]([0-9a-f]{4})/i,c={};if(void 0!=a){for(e in a.post)if(a.post.hasOwnProperty(e)){for(d=e;null!==(f=b.exec(d));)d=d.replace(f[0],String.fromCharCode(parseInt("0x"+f[1],16)));c[d]=a.post[e]}a.post=c}return a},SWFUpload.prototype.testExternalInterface=function(){try{return this.callFlash("TestExternalInterface")}catch(a){return!1}},SWFUpload.prototype.flashReady=function(){var a=this.getMovieElement();return a?(this.cleanUp(a),this.queueEvent("swfupload_loaded_handler"),void 0):(this.debug("Flash called back ready but the flash movie can't be found."),void 0)},SWFUpload.prototype.cleanUp=function(a){try{if(this.movieElement&&"unknown"==typeof a.CallFunction){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(var b in a)try{"function"==typeof a[b]&&(a[b]=null)}catch(c){}}}catch(d){}window.__flash__removeCallback=function(a,b){try{a&&(a[b]=null)}catch(c){}}},SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")},SWFUpload.prototype.fileQueued=function(a){a=this.unescapeFilePostParams(a),this.queueEvent("file_queued_handler",a)},SWFUpload.prototype.fileQueueError=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("file_queue_error_handler",[a,b,c])},SWFUpload.prototype.fileDialogComplete=function(a,b,c){this.queueEvent("file_dialog_complete_handler",[a,b,c])},SWFUpload.prototype.uploadStart=function(a){a=this.unescapeFilePostParams(a),this.queueEvent("return_upload_start_handler",a)},SWFUpload.prototype.returnUploadStart=function(a){var b;if("function"==typeof this.settings.upload_start_handler)a=this.unescapeFilePostParams(a),b=this.settings.upload_start_handler.call(this,a);else if(void 0!=this.settings.upload_start_handler)throw"upload_start_handler must be a function";void 0===b&&(b=!0),b=!!b,this.callFlash("ReturnUploadStart",[b])},SWFUpload.prototype.uploadProgress=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("upload_progress_handler",[a,b,c])},SWFUpload.prototype.uploadError=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("upload_error_handler",[a,b,c])},SWFUpload.prototype.uploadSuccess=function(a,b,c){a=this.unescapeFilePostParams(a),this.queueEvent("upload_success_handler",[a,b,c])},SWFUpload.prototype.uploadComplete=function(a){a=this.unescapeFilePostParams(a),this.queueEvent("upload_complete_handler",a)},SWFUpload.prototype.debug=function(a){this.queueEvent("debug_handler",a)},SWFUpload.prototype.debugMessage=function(a){var b,c,d;if(this.settings.debug)if(c=[],"object"==typeof a&&"string"==typeof a.name&&"string"==typeof a.message){for(d in a)a.hasOwnProperty(d)&&c.push(d+": "+a[d]);b=c.join("\n")||"",c=b.split("\n"),b="EXCEPTION: "+c.join("\nEXCEPTION: "),SWFUpload.Console.writeLine(b)}else SWFUpload.Console.writeLine(a)},SWFUpload.Console={},SWFUpload.Console.writeLine=function(a){var b,c;try{b=document.getElementById("SWFUpload_Console"),b||(c=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(c),b=document.createElement("textarea"),b.id="SWFUpload_Console",b.style.fontFamily="monospace",b.setAttribute("wrap","off"),b.wrap="off",b.style.overflow="auto",b.style.width="700px",b.style.height="350px",b.style.margin="5px",c.appendChild(b)),b.value+=a+"\n",b.scrollTop=b.scrollHeight-b.clientHeight}catch(d){alert("Exception: "+d.name+" Message: "+d.message)}},function(a){var b={init:function(b,d){return this.each(function(){var i,j,k,l,m,n,e=a(this),f=e.clone(),g=a.extend({id:e.attr("id"),swf:"uploadify.swf",uploader:"uploadify.php",auto:!0,buttonClass:"",buttonCursor:"hand",buttonImage:null,buttonText:"SELECT FILES",checkExisting:!1,debug:!1,fileObjName:"Filedata",fileSizeLimit:0,fileTypeDesc:"All Files",fileTypeExts:"*.*",height:30,itemTemplate:!1,method:"post",multi:!0,formData:{},preventCaching:!0,progressData:"percentage",queueID:!1,queueSizeLimit:999,removeCompleted:!0,removeTimeout:3,requeueErrors:!1,successTimeout:30,uploadLimit:0,width:120,overrideEvents:[]},b),h={assume_success_timeout:g.successTimeout,button_placeholder_id:g.id,button_width:g.width,button_height:g.height,button_text:null,button_text_style:null,button_text_top_padding:0,button_text_left_padding:0,button_action:g.multi?SWFUpload.BUTTON_ACTION.SELECT_FILES:SWFUpload.BUTTON_ACTION.SELECT_FILE,button_disabled:!1,button_cursor:"arrow"==g.buttonCursor?SWFUpload.CURSOR.ARROW:SWFUpload.CURSOR.HAND,button_window_mode:SWFUpload.WINDOW_MODE.TRANSPARENT,debug:g.debug,requeue_on_error:g.requeueErrors,file_post_name:g.fileObjName,file_size_limit:g.fileSizeLimit,file_types:g.fileTypeExts,file_types_description:g.fileTypeDesc,file_queue_limit:g.queueSizeLimit,file_upload_limit:g.uploadLimit,flash_url:g.swf,prevent_swf_caching:g.preventCaching,post_params:g.formData,upload_url:g.uploader,use_query_string:"get"==g.method,file_dialog_complete_handler:c.onDialogClose,file_dialog_start_handler:c.onDialogOpen,file_queued_handler:c.onSelect,file_queue_error_handler:c.onSelectError,swfupload_loaded_handler:g.onSWFReady,upload_complete_handler:c.onUploadComplete,upload_error_handler:c.onUploadError,upload_progress_handler:c.onUploadProgress,upload_start_handler:c.onUploadStart,upload_success_handler:c.onUploadSuccess};d&&(h=a.extend(h,d)),h=a.extend(h,g),i=swfobject.getFlashPlayerVersion(),j=i.major>=9,j?(window["uploadify_"+g.id]=new SWFUpload(h),k=window["uploadify_"+g.id],e.data("uploadify",k),l=a("<div />",{id:g.id,"class":"uploadify",css:{height:g.height+"px",width:g.width+"px"}}),a("#"+k.movieName).wrap(l),l=a("#"+g.id),l.data("uploadify",k),m=a("<div />",{id:g.id+"-button","class":"uploadify-button "+g.buttonClass}),g.buttonImage&&m.css({"background-image":"url('"+g.buttonImage+"')","text-indent":"-9999px"}),m.html('<span class="uploadify-button-text">'+g.buttonText+"</span>").css({height:g.height+"px","line-height":g.height+"px",width:g.width+"px"}),l.append(m),a("#"+k.movieName).css({position:"absolute","z-index":1}),g.queueID||(n=a("<div />",{id:g.id+"-queue","class":"uploadify-queue"}),l.after(n),k.settings.queueID=g.id+"-queue",k.settings.defaultQueue=!0),k.queueData={files:{},filesSelected:0,filesQueued:0,filesReplaced:0,filesCancelled:0,filesErrored:0,uploadsSuccessful:0,uploadsErrored:0,averageSpeed:0,queueLength:0,queueSize:0,uploadSize:0,queueBytesUploaded:0,uploadQueue:[],errorMsg:"Some files were not added to the queue:"},k.original=f,k.wrapper=l,k.button=m,k.queue=n,g.onInit&&g.onInit.call(e,k)):g.onFallback&&g.onFallback.call(e)})},cancel:function(){var d=arguments;this.each(function(){var g,h,i,b=a(this),c=b.data("uploadify"),e=c.settings,f=-1;if(d[0])if("*"==d[0])g=c.queueData.queueLength,a("#"+e.queueID).find(".uploadify-queue-item").each(function(){f++,d[1]===!0?c.cancelUpload(a(this).attr("id"),!1):c.cancelUpload(a(this).attr("id")),a(this).find(".data").removeClass("data").html(" - Cancelled"),a(this).find(".uploadify-progress-bar").remove(),a(this).delay(1e3+100*f).fadeOut(500,function(){a(this).remove()})}),c.queueData.queueSize=0,c.queueData.queueLength=0,e.onClearQueue&&e.onClearQueue.call(b,g);else for(h=0;h<d.length;h++)c.cancelUpload(d[h]),a("#"+d[h]).find(".data").removeClass("data").html(" - Cancelled"),a("#"+d[h]).find(".uploadify-progress-bar").remove(),a("#"+d[h]).delay(1e3+100*h).fadeOut(500,function(){a(this).remove()});else i=a("#"+e.queueID).find(".uploadify-queue-item").get(0),$item=a(i),c.cancelUpload($item.attr("id")),$item.find(".data").removeClass("data").html(" - Cancelled"),$item.find(".uploadify-progress-bar").remove(),$item.delay(1e3).fadeOut(500,function(){a(this).remove()})})},destroy:function(){this.each(function(){var b=a(this),c=b.data("uploadify"),d=c.settings;c.destroy(),d.defaultQueue&&a("#"+d.queueID).remove(),a("#"+d.id).replaceWith(c.original),d.onDestroy&&d.onDestroy.call(this),delete c})},disable:function(b){this.each(function(){var c=a(this),d=c.data("uploadify"),e=d.settings;b?(d.button.addClass("disabled"),e.onDisable&&e.onDisable.call(this)):(d.button.removeClass("disabled"),e.onEnable&&e.onEnable.call(this)),d.setButtonDisabled(b)})},settings:function(b,c,d){var e=arguments,f=c;return this.each(function(){var j,g=a(this),h=g.data("uploadify"),i=h.settings;if("object"==typeof e[0])for(j in c)setData(j,c[j]);if(1===e.length)f=i[b];else{switch(b){case"uploader":h.setUploadURL(c);break;case"formData":d||(c=a.extend(i.formData,c)),h.setPostParams(i.formData);break;case"method":"get"==c?h.setUseQueryString(!0):h.setUseQueryString(!1);break;case"fileObjName":h.setFilePostName(c);break;case"fileTypeExts":h.setFileTypes(c,i.fileTypeDesc);break;case"fileTypeDesc":h.setFileTypes(i.fileTypeExts,c);break;case"fileSizeLimit":h.setFileSizeLimit(c);break;case"uploadLimit":h.setFileUploadLimit(c);break;case"queueSizeLimit":h.setFileQueueLimit(c);break;case"buttonImage":h.button.css("background-image",settingValue);break;case"buttonCursor":"arrow"==c?h.setButtonCursor(SWFUpload.CURSOR.ARROW):h.setButtonCursor(SWFUpload.CURSOR.HAND);break;case"buttonText":a("#"+i.id+"-button").find(".uploadify-button-text").html(c);break;case"width":h.setButtonDimensions(c,i.height);break;case"height":h.setButtonDimensions(i.width,c);break;case"multi":c?h.setButtonAction(SWFUpload.BUTTON_ACTION.SELECT_FILES):h.setButtonAction(SWFUpload.BUTTON_ACTION.SELECT_FILE)}i[b]=c}}),1===e.length?f:void 0},stop:function(){this.each(function(){var b=a(this),c=b.data("uploadify");c.queueData.averageSpeed=0,c.queueData.uploadSize=0,c.queueData.bytesUploaded=0,c.queueData.uploadQueue=[],c.stopUpload()})},upload:function(){var b=arguments;this.each(function(){var e,c=a(this),d=c.data("uploadify");if(d.queueData.averageSpeed=0,d.queueData.uploadSize=0,d.queueData.bytesUploaded=0,d.queueData.uploadQueue=[],b[0])if("*"==b[0])d.queueData.uploadSize=d.queueData.queueSize,d.queueData.uploadQueue.push("*"),d.startUpload();else{for(e=0;e<b.length;e++)d.queueData.uploadSize+=d.queueData.files[b[e]].size,d.queueData.uploadQueue.push(b[e]);d.startUpload(d.queueData.uploadQueue.shift())}else d.startUpload()})}},c={onDialogOpen:function(){var a=this.settings;this.queueData.errorMsg="Some files were not added to the queue:",this.queueData.filesReplaced=0,this.queueData.filesCancelled=0,a.onDialogOpen&&a.onDialogOpen.call(this)},onDialogClose:function(b,c,d){var e=this.settings;this.queueData.filesErrored=b-c,this.queueData.filesSelected=b,this.queueData.filesQueued=c-this.queueData.filesCancelled,this.queueData.queueLength=d,a.inArray("onDialogClose",e.overrideEvents)<0&&this.queueData.filesErrored>0&&alert(this.queueData.errorMsg),e.onDialogClose&&e.onDialogClose.call(this,this.queueData),e.auto&&a("#"+e.id).uploadify("upload","*")},onSelect:function(b){var e,f,g,h,i,j,k,c=this.settings,d={};for(e in this.queueData.files)if(d=this.queueData.files[e],1!=d.uploaded&&d.name==b.name){if(f=confirm('The file named "'+b.name+'" is already in the queue.\nDo you want to replace the existing item in the queue?'),!f)return this.cancelUpload(b.id),this.queueData.filesCancelled++,!1;a("#"+d.id).remove(),this.cancelUpload(d.id),this.queueData.filesReplaced++}if(g=Math.round(b.size/1024),h="KB",g>1e3&&(g=Math.round(g/1e3),h="MB"),i=g.toString().split("."),g=i[0],i.length>1&&(g+="."+i[1].substr(0,2)),g+=h,j=b.name,j.length>25&&(j=j.substr(0,25)+"..."),itemData={fileID:b.id,instanceID:c.id,fileName:j,fileSize:g},0==c.itemTemplate&&(c.itemTemplate='<div id="${fileID}" class="uploadify-queue-item">                    <div class="cancel">                        <a href="javascript:$(\'#${instanceID}\').uploadify(\'cancel\', \'${fileID}\')">X</a>                   </div>                  <span class="fileName">${fileName} (${fileSize})</span><span class="data"></span>                   <div class="uploadify-progress">                        <div class="uploadify-progress-bar"><!--Progress Bar--></div>                   </div>              </div>'),a.inArray("onSelect",c.overrideEvents)<0){itemHTML=c.itemTemplate;for(k in itemData)itemHTML=itemHTML.replace(new RegExp("\\$\\{"+k+"\\}","g"),itemData[k]);a("#"+c.queueID).append(itemHTML)}this.queueData.queueSize+=b.size,this.queueData.files[b.id]=b,c.onSelect&&c.onSelect.apply(this,arguments)},onSelectError:function(b,c,d){var e=this.settings;if(a.inArray("onSelectError",e.overrideEvents)<0)switch(c){case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:this.queueData.errorMsg+=e.queueSizeLimit>d?"\nThe number of files selected exceeds the remaining upload limit ("+d+").":"\nThe number of files selected exceeds the queue size limit ("+e.queueSizeLimit+").";break;case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:this.queueData.errorMsg+='\nThe file "'+b.name+'" exceeds the size limit ('+e.fileSizeLimit+").";break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:this.queueData.errorMsg+='\nThe file "'+b.name+'" is empty.';break;case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:this.queueData.errorMsg+='\nThe file "'+b.name+'" is not an accepted file type ('+e.fileTypeDesc+")."}c!=SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED&&delete this.queueData.files[b.id],e.onSelectError&&e.onSelectError.apply(this,arguments)},onQueueComplete:function(){this.settings.onQueueComplete&&this.settings.onQueueComplete.call(this,this.settings.queueData)},onUploadComplete:function(b){var c=this.settings,d=this,e=this.getStats();if(this.queueData.queueLength=e.files_queued,"*"==this.queueData.uploadQueue[0]?this.queueData.queueLength>0?this.startUpload():(this.queueData.uploadQueue=[],c.onQueueComplete&&c.onQueueComplete.call(this,this.queueData)):this.queueData.uploadQueue.length>0?this.startUpload(this.queueData.uploadQueue.shift()):(this.queueData.uploadQueue=[],c.onQueueComplete&&c.onQueueComplete.call(this,this.queueData)),a.inArray("onUploadComplete",c.overrideEvents)<0)if(c.removeCompleted)switch(b.filestatus){case SWFUpload.FILE_STATUS.COMPLETE:setTimeout(function(){a("#"+b.id)&&(d.queueData.queueSize-=b.size,d.queueData.queueLength-=1,delete d.queueData.files[b.id],a("#"+b.id).fadeOut(500,function(){a(this).remove()}))},1e3*c.removeTimeout);break;case SWFUpload.FILE_STATUS.ERROR:c.requeueErrors||setTimeout(function(){a("#"+b.id)&&(d.queueData.queueSize-=b.size,d.queueData.queueLength-=1,delete d.queueData.files[b.id],a("#"+b.id).fadeOut(500,function(){a(this).remove()}))},1e3*c.removeTimeout)}else b.uploaded=!0;c.onUploadComplete&&c.onUploadComplete.call(this,b)},onUploadError:function(b,c,d){var g,e=this.settings,f="Error";switch(c){case SWFUpload.UPLOAD_ERROR.HTTP_ERROR:f="HTTP Error ("+d+")";break;case SWFUpload.UPLOAD_ERROR.MISSING_UPLOAD_URL:f="Missing Upload URL";break;case SWFUpload.UPLOAD_ERROR.IO_ERROR:f="IO Error";break;case SWFUpload.UPLOAD_ERROR.SECURITY_ERROR:f="Security Error";break;case SWFUpload.UPLOAD_ERROR.UPLOAD_LIMIT_EXCEEDED:alert("The upload limit has been reached ("+d+")."),f="Exceeds Upload Limit";break;case SWFUpload.UPLOAD_ERROR.UPLOAD_FAILED:f="Failed";break;case SWFUpload.UPLOAD_ERROR.SPECIFIED_FILE_ID_NOT_FOUND:break;case SWFUpload.UPLOAD_ERROR.FILE_VALIDATION_FAILED:f="Validation Error";break;case SWFUpload.UPLOAD_ERROR.FILE_CANCELLED:f="Cancelled",this.queueData.queueSize-=b.size,this.queueData.queueLength-=1,(b.status==SWFUpload.FILE_STATUS.IN_PROGRESS||a.inArray(b.id,this.queueData.uploadQueue)>=0)&&(this.queueData.uploadSize-=b.size),e.onCancel&&e.onCancel.call(this,b),delete this.queueData.files[b.id];break;case SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED:f="Stopped"}a.inArray("onUploadError",e.overrideEvents)<0&&(c!=SWFUpload.UPLOAD_ERROR.FILE_CANCELLED&&c!=SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED&&a("#"+b.id).addClass("uploadify-error"),a("#"+b.id).find(".uploadify-progress-bar").css("width","1px"),c!=SWFUpload.UPLOAD_ERROR.SPECIFIED_FILE_ID_NOT_FOUND&&b.status!=SWFUpload.FILE_STATUS.COMPLETE&&a("#"+b.id).find(".data").html(" - "+f)),g=this.getStats(),this.queueData.uploadsErrored=g.upload_errors,e.onUploadError&&e.onUploadError.call(this,b,c,d,f)},onUploadProgress:function(b,c,d){var i,j,k,l,m,n,e=this.settings,f=new Date,g=f.getTime(),h=g-this.timer;h>500&&(this.timer=g),i=c-this.bytesLoaded,this.bytesLoaded=c,j=this.queueData.queueBytesUploaded+c,k=Math.round(100*(c/d)),l="KB/s",m=0,n=i/1024/(h/1e3),n=Math.floor(10*n)/10,this.queueData.averageSpeed=this.queueData.averageSpeed>0?Math.floor((this.queueData.averageSpeed+n)/2):Math.floor(n),n>1e3&&(m=.001*n,this.queueData.averageSpeed=Math.floor(m),l="MB/s"),a.inArray("onUploadProgress",e.overrideEvents)<0&&("percentage"==e.progressData?a("#"+b.id).find(".data").html(" - "+k+"%"):"speed"==e.progressData&&h>500&&a("#"+b.id).find(".data").html(" - "+this.queueData.averageSpeed+l),a("#"+b.id).find(".uploadify-progress-bar").css("width",k+"%")),e.onUploadProgress&&e.onUploadProgress.call(this,b,c,d,j,this.queueData.uploadSize)},onUploadStart:function(b){var c=this.settings,d=new Date;this.timer=d.getTime(),this.bytesLoaded=0,0==this.queueData.uploadQueue.length&&(this.queueData.uploadSize=b.size),c.checkExisting&&a.ajax({type:"POST",async:!1,url:c.checkExisting,data:{filename:b.name},success:function(c){if(1==c){var d=confirm('A file with the name "'+b.name+'" already exists on the server.\nWould you like to replace the existing file?');d||(this.cancelUpload(b.id),a("#"+b.id).remove(),this.queueData.uploadQueue.length>0&&this.queueData.queueLength>0&&("*"==this.queueData.uploadQueue[0]?this.startUpload():this.startUpload(this.queueData.uploadQueue.shift())))}}}),c.onUploadStart&&c.onUploadStart.call(this,b)},onUploadSuccess:function(b,c,d){var e=this.settings,f=this.getStats();this.queueData.uploadsSuccessful=f.successful_uploads,this.queueData.queueBytesUploaded+=b.size,a.inArray("onUploadSuccess",e.overrideEvents)<0&&a("#"+b.id).find(".data").html(" - Complete"),e.onUploadSuccess&&e.onUploadSuccess.call(this,b,c,d)}};a.fn.uploadify=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?(a.error("The method "+c+" does not exist in $.uploadify"),void 0):b.init.apply(this,arguments)}}($),function(a){function g(c,g){function t(){var c,d;g.center&&(s=b("#"+g.id),c="imgview"===g.type?(b(a).width()-s.find("#comp_g_imageview").width())/2:(b(a).width()-s.width())/2,d="imgview"===g.type?(b(a).height()-s.find("#comp_g_imageview").height())/2:(b(a).height()-s.height())/2,!l&&g.fixed?0>d&&(d=0):(d+=b(document).scrollTop(),c+=b(document).scrollLeft()),s.css({top:d+"px",left:c+"px"}))}var i,j,k,l,m,n,o,p,q,r,s,u,h={title:"标题",isshowtitle:!0,isNeedbtn:!0,isautoscroll:!1,isdrag:!1,modal:!0,center:!0,fixed:!1,time:0,id:!1,_imgindex:0};g=b.extend(h,g),g.id=g.id?g.id:"dialog-"+(new Date).getTime(),i=g.id+"-overlay",j=null,k=!1,l=f&&!a.XMLHttpRequest,m=this,n=0,o="",g.title&&g.title.length>0&&(o='<span class="comp_dialog_title">'+g.title+"</span>"),p=g.isshowtitle?['<div class="comp_dialog_bar" style="'+(g.isdrag?"CURSOR: move;":"")+'">',o,'<a class="comp_dialog_close"></a>',"</div>"]:[""],q=['<div class="comp_dialog_bbar"></div>'],r=['<div id="'+g.id+'" class="comp_dialog" style="width:'+(void 0==g.width?"imgview"==g.type?"auto":"auto":g.width)+'px;"><div class="comp_dialog_box">'+p.join(""),'<div class="comp_dialog_content"></div>',q.join(""),"</div>"],s=b(r.join("")).hide(),b("body").append(s),u=function(){function d(b){var d=a.event||b,e=parseInt(s.css("top"))+(d.clientY-c.y),f=parseInt(s.css("left"))+(d.clientX-c.x);s.css({top:e,left:f}),c.x=d.clientX,c.y=d.clientY}g.modal&&(b("body").append('<div id="'+i+'" class="comp_dialog_overlay"></div>'),b("#"+i).css({left:0,top:0,width:"100%",height:b(document).height(),"z-index":e,position:"absolute"}).hide()),s.css({"z-index":++e,position:g.fixed?"fixed":"absolute"}),l&&g.fixed&&(b("select").css("visibility","hidden"),s.css("position","absolute"),t());var c={x:0,y:0};s.find(".comp_dialog_bar").mousedown(function(e){if(g.isdrag){var f=a.event||e;c.x=f.clientX,c.y=f.clientY,b(document).bind("mousemove",d)}}),b(document).mouseup(function(){b(document).unbind("mousemove",d)}),s.find(".comp_dialog_close").bind("click",this.close),s.bind("mousedown",function(){s.css("z-index",e)}),0!=g.time&&(j=setTimeout(this.close,g.time))},this.setContent=function(a){var f,c=s.find(".comp_dialog_content"),e=s.find(".comp_dialog_bbar");if(g.isautoscroll&&c.css({height:700,overflow:"auto"}),b(".comp_dialog").css("padding","40px"),"object"==typeof a)switch(a.type.toLowerCase()){case"id":c.html(b("#"+a.value).html());break;case"img":b(".comp_dialog_content img").css({"max-width":700,"MAX-HEIGHT":500}),c.html("加载中..."),b('<img alt="" />').load(function(){c.empty().append(b(this)),t()}).attr("src",a.value);break;case"imgview":c.html("加载中..."),b('<img id="comp_g_imageview" alt="" src="'+X.Dialog._viewimages[0]+'" />').off().on("load.INIT",function(a){a.preventDefault(),c.html(b(this)),l||(d.width="undefined"==typeof d.width?Math.min(b(this).width(),.8*b(document).width()):d.width,d.height="undefined"==typeof d.height?Math.min(b(this).height(),.8*b(document.body).height()):d.height,b(".comp_dialog").css("padding",0),b(".comp_dialog_content").css("padding",0),b(this).css({width:d.width,height:d.height,overflow:"hidden"}),t())}).attr("src",X.Dialog._viewimages[0]),b(".comp_dialog,.comp_dialog_content").css("background","transparent"),this.initbtns();break;case"url":c.html("加载中..."),b.ajax({url:a.value,success:function(a){c.html(a),t()},error:function(){c.html("出错啦")}});break;case"iframe":c.append(b('<iframe src="'+a.value+'" />'));break;case"alert":c.html(a.html),f=a.buttonskin||"blue",a.isNeedbtn?e.append(b('<a class="ui_btn comp_dialog_yes" href="javascript:;"><span class="big_'+("blue"==f?"normal":"default")+'_btn"><span>'+(void 0==a.yes_btn_txt?"确定":a.yes_btn_txt)+"</span></span></a>")):(e.append(""),e.hide());break;case"closewin":c.html(a.html),f=a.buttonskin||"blue",e.append(b('<a class="ui_btn comp_dialog_no" href="javascript:;"><span class="big_default_btn"><span>'+(void 0==a.no_btn_txt?"关闭":a.no_btn_txt)+"</span></span></a>"));break;case"loading":c.html(a.html);break;case"confirm":c.html(a.html),"undefined"!=typeof a.buttons&&b.isArray(a.buttons)?!a.buttons.length:e.append(b('<a class="ui_btn comp_dialog_yes" href="javascript:;"><span class="big_normal_btn"><span>'+(void 0==a.yes_btn_txt?"确定":a.yes_btn_txt)+'</span></span></a><a class="ui_btn comp_dialog_no" href="javascript:;"><span class="big_default_btn"><span>'+(void 0==a.no_btn_txt?"取消":a.no_btn_txt)+"</span></span></a>"));break;case"text":default:c.html(a.value)}else c.html(a)},this.initbtns=function(){var a,c,d;b(".comp_dialog_imgview_prev").show(),b(".comp_dialog_imgview_next").show(),b(".comp_dialog_sfimgview").size()>0||(a=b('<div class="comp_dialog_sfimgview comp_dialog_imgview_prev" title="上一个"></div>'),a.appendTo(document.body),c=b('<div class="comp_dialog_sfimgview comp_dialog_imgview_next" title="下一个"></div>'),c.appendTo(document.body),d=b('<div class="comp_dialog_sfimgview comp_dialog_imgview_close"></div>'),d.appendTo(document.body),a.css("top","50%"),c.css("top","50%"),a.off().on("click.PREV_BTN",function(){X.Dialog._imgindex>0&&b("#comp_g_imageview").css({width:"auto",height:"auto"}).off().on("load",function(){b(this).css({width:Math.min(b(this).width(),.8*b(document).width()),height:Math.min(b(this).height(),.8*b(document.body).height()),overflow:"hidden"}),t()}).attr("src",X.Dialog._viewimages[X.Dialog._imgindex-=1])}),d.on("click",function(){X.Dialog.close(),c.hide(),a.hide()}),c.off().on("click.NEXT_BTN",function(){X.Dialog._imgindex<X.Dialog._viewimages.length-1&&b("#comp_g_imageview").css({width:"auto",height:"auto"}).off().on("load",function(){b(this).css({width:Math.min(b(this).width(),.8*b(document).width()),height:Math.min(b(this).height(),.8*b(document.body).height()),overflow:"hidden"}),t()}).attr("src",X.Dialog._viewimages[X.Dialog._imgindex+=1])}))},this.show=function(){(void 0==g.beforeShow||g.beforeShow())&&(n=b(a).scrollTop(),g.modal&&b("#"+i).fadeTo("fast",.5),s.fadeTo("fast",1,function(){void 0!=g.afterShow&&g.afterShow(),k=!0}),0!=g.time&&(j=setTimeout(this.close,g.time)),t())},this.resizepos=function(){t()},this.hide=function(){k&&(void 0==g.beforeHide||g.beforeHide())&&(s.fadeOut("slow",function(){void 0!=g.afterHide&&g.afterHide()}),g.modal&&b("#"+i).fadeOut("slow"),k=!1)},this.close=function(){(void 0==g.beforeClose||g.beforeClose())&&(s.hide().remove(),k=!1,void 0!=g.afterClose&&g.afterClose(),g.modal&&b("#"+i).hide().remove(),b(a).off("scroll"),clearTimeout(j),b(".formError").remove())},u.call(this),this.setContent(g),s.find(".comp_dialog_no").bind("click",{btn:"no"},this.close),s.find(".comp_dialog_yes").bind("click",{btn:"yes"},function(a){void 0!=g.callback&&(isCallback=g.callback.call(this,a.data)),"undefined"!=typeof isCallback&&isCallback&&m.close()})}function h(c,d){var h,i,e=new g(c,d);return e.show(),h=f&&!a.XMLHttpRequest,h&&(i=b(".comp_dialog .comp_dialog_content").children(),i.css("float","left"),b(".comp_dialog").css("width",i.width()+20)),e.resizepos(),e}var b=a.jQuery,c=a.X,d={},e=1e3,f=!-[1];g.__zindex=e-1,g.__count=1,g.version="1.0",c.Dialog={_self:null,_imgindex:0,_viewimages:[],Alert:function(a){void 0==a&&(a={}),a.type="alert",this._self=h(void 0==a.html?"":a.html,a)},Closewin:function(a){void 0==a&&(a={}),a.type="closewin",this._self=h(void 0==a.html?"":a.html,a)},Loading:function(a){void 0==a&&(a={}),a.type="loading",this._self=h(void 0==a.html?"":a.html,a)},Confirm:function(a){return void 0==a&&(a={}),a.type="confirm",this._self=h(void 0==a.html?"":a.html,a),this._self},ImageView:function(a,c){void 0==c&&(c={}),X.Dialog._viewimages=[],X.Dialog._imgindex=0,b(a).each(function(a,c){X.Dialog._viewimages.push(b(c).attr("bigurl"))}),c.type="imgview",c.opacity=.8,c.isshowtitle=!1,this._self=h(void 0==c.html?"":c.html,c)},close:function(){this._self.close()},resizepos:function(){this._self.resizepos()}}}(this),function(a){a(function(){window.alert=function(a){X.Dialog.Alert({fixed:!1,title:"提示",yes_btn_txt:"确定",width:200,height:60,html:a,callback:function(){return!0}})},window.newAlert=function(a){X.Dialog.Alert({fixed:!1,title:"提示",yes_btn_txt:"确定",width:a.width||200,height:60,html:"<h4>"+a.msg+"</h4>",callback:function(){return!!a.fn&&a.fn(),!0}})},window.newComfirm=function(a){X.Dialog.Confirm({fixed:!1,title:a.title||"提示",yes_btn_txt:"确定",width:a.width||300,height:160,html:a.msg,callback:function(b){!!a.fn&&a.fn(b)}})}})}(jQuery),function(a){var b=function(){var c={years:"datepickerViewYears",moths:"datepickerViewMonths",days:"datepickerViewDays"},d={wrapper:'<div class="datepicker"><div class="datepickerBorderT" /><div class="datepickerBorderB" /><div class="datepickerBorderL" /><div class="datepickerBorderR" /><div class="datepickerBorderTL" /><div class="datepickerBorderTR" /><div class="datepickerBorderBL" /><div class="datepickerBorderBR" /><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr></tr></tbody></table></div></div>',head:["<td>",'<table cellspacing="0" cellpadding="0">',"<thead>","<tr>",'<th class="datepickerGoPrev"><a href="#"><span><%=prev%></span></a></th>','<th colspan="6" class="datepickerMonth"><a href="#"><span></span></a></th>','<th class="datepickerGoNext"><a href="#"><span><%=next%></span></a></th>',"</tr>",'<tr class="datepickerDoW">',"<th><span><%=week%></span></th>","<th><span><%=day1%></span></th>","<th><span><%=day2%></span></th>","<th><span><%=day3%></span></th>","<th><span><%=day4%></span></th>","<th><span><%=day5%></span></th>","<th><span><%=day6%></span></th>","<th><span><%=day7%></span></th>","</tr>","</thead>","</table></td>"],space:'<td class="datepickerSpace"><div></div></td>',days:['<tbody class="datepickerDays">',"<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[0].week%></span></a></th>','<td class="<%=weeks[0].days[0].classname%>"><a href="#"><span><%=weeks[0].days[0].text%></span></a></td>','<td class="<%=weeks[0].days[1].classname%>"><a href="#"><span><%=weeks[0].days[1].text%></span></a></td>','<td class="<%=weeks[0].days[2].classname%>"><a href="#"><span><%=weeks[0].days[2].text%></span></a></td>','<td class="<%=weeks[0].days[3].classname%>"><a href="#"><span><%=weeks[0].days[3].text%></span></a></td>','<td class="<%=weeks[0].days[4].classname%>"><a href="#"><span><%=weeks[0].days[4].text%></span></a></td>','<td class="<%=weeks[0].days[5].classname%>"><a href="#"><span><%=weeks[0].days[5].text%></span></a></td>','<td class="<%=weeks[0].days[6].classname%>"><a href="#"><span><%=weeks[0].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[1].week%></span></a></th>','<td class="<%=weeks[1].days[0].classname%>"><a href="#"><span><%=weeks[1].days[0].text%></span></a></td>','<td class="<%=weeks[1].days[1].classname%>"><a href="#"><span><%=weeks[1].days[1].text%></span></a></td>','<td class="<%=weeks[1].days[2].classname%>"><a href="#"><span><%=weeks[1].days[2].text%></span></a></td>','<td class="<%=weeks[1].days[3].classname%>"><a href="#"><span><%=weeks[1].days[3].text%></span></a></td>','<td class="<%=weeks[1].days[4].classname%>"><a href="#"><span><%=weeks[1].days[4].text%></span></a></td>','<td class="<%=weeks[1].days[5].classname%>"><a href="#"><span><%=weeks[1].days[5].text%></span></a></td>','<td class="<%=weeks[1].days[6].classname%>"><a href="#"><span><%=weeks[1].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[2].week%></span></a></th>','<td class="<%=weeks[2].days[0].classname%>"><a href="#"><span><%=weeks[2].days[0].text%></span></a></td>','<td class="<%=weeks[2].days[1].classname%>"><a href="#"><span><%=weeks[2].days[1].text%></span></a></td>','<td class="<%=weeks[2].days[2].classname%>"><a href="#"><span><%=weeks[2].days[2].text%></span></a></td>','<td class="<%=weeks[2].days[3].classname%>"><a href="#"><span><%=weeks[2].days[3].text%></span></a></td>','<td class="<%=weeks[2].days[4].classname%>"><a href="#"><span><%=weeks[2].days[4].text%></span></a></td>','<td class="<%=weeks[2].days[5].classname%>"><a href="#"><span><%=weeks[2].days[5].text%></span></a></td>','<td class="<%=weeks[2].days[6].classname%>"><a href="#"><span><%=weeks[2].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[3].week%></span></a></th>','<td class="<%=weeks[3].days[0].classname%>"><a href="#"><span><%=weeks[3].days[0].text%></span></a></td>','<td class="<%=weeks[3].days[1].classname%>"><a href="#"><span><%=weeks[3].days[1].text%></span></a></td>','<td class="<%=weeks[3].days[2].classname%>"><a href="#"><span><%=weeks[3].days[2].text%></span></a></td>','<td class="<%=weeks[3].days[3].classname%>"><a href="#"><span><%=weeks[3].days[3].text%></span></a></td>','<td class="<%=weeks[3].days[4].classname%>"><a href="#"><span><%=weeks[3].days[4].text%></span></a></td>','<td class="<%=weeks[3].days[5].classname%>"><a href="#"><span><%=weeks[3].days[5].text%></span></a></td>','<td class="<%=weeks[3].days[6].classname%>"><a href="#"><span><%=weeks[3].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[4].week%></span></a></th>','<td class="<%=weeks[4].days[0].classname%>"><a href="#"><span><%=weeks[4].days[0].text%></span></a></td>','<td class="<%=weeks[4].days[1].classname%>"><a href="#"><span><%=weeks[4].days[1].text%></span></a></td>','<td class="<%=weeks[4].days[2].classname%>"><a href="#"><span><%=weeks[4].days[2].text%></span></a></td>','<td class="<%=weeks[4].days[3].classname%>"><a href="#"><span><%=weeks[4].days[3].text%></span></a></td>','<td class="<%=weeks[4].days[4].classname%>"><a href="#"><span><%=weeks[4].days[4].text%></span></a></td>','<td class="<%=weeks[4].days[5].classname%>"><a href="#"><span><%=weeks[4].days[5].text%></span></a></td>','<td class="<%=weeks[4].days[6].classname%>"><a href="#"><span><%=weeks[4].days[6].text%></span></a></td>',"</tr>","<tr>",'<th class="datepickerWeek"><a href="#"><span><%=weeks[5].week%></span></a></th>','<td class="<%=weeks[5].days[0].classname%>"><a href="#"><span><%=weeks[5].days[0].text%></span></a></td>','<td class="<%=weeks[5].days[1].classname%>"><a href="#"><span><%=weeks[5].days[1].text%></span></a></td>','<td class="<%=weeks[5].days[2].classname%>"><a href="#"><span><%=weeks[5].days[2].text%></span></a></td>','<td class="<%=weeks[5].days[3].classname%>"><a href="#"><span><%=weeks[5].days[3].text%></span></a></td>','<td class="<%=weeks[5].days[4].classname%>"><a href="#"><span><%=weeks[5].days[4].text%></span></a></td>','<td class="<%=weeks[5].days[5].classname%>"><a href="#"><span><%=weeks[5].days[5].text%></span></a></td>','<td class="<%=weeks[5].days[6].classname%>"><a href="#"><span><%=weeks[5].days[6].text%></span></a></td>',"</tr>","</tbody>"],months:['<tbody class="<%=className%>">',"<tr>",'<td colspan="2"><a href="#"><span><%=data[0]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[1]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[2]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[3]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[4]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[5]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[6]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[7]%></span></a></td>',"</tr>","<tr>",'<td colspan="2"><a href="#"><span><%=data[8]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[9]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[10]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[11]%></span></a></td>',"</tr>","</tbody>"]},e={flat:!1,starts:1,prev:"&#9664;",next:"&#9654;",lastSel:!1,mode:"single",view:"days",calendars:1,format:"Y-m-d",position:"bottom",eventName:"click",onRender:function(){return{}
},onChange:function(){return!0},onShow:function(){return!0},onBeforeShow:function(){return!0},onHide:function(){return!0},locale:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekMin:"wk"}},f=function(b){var g,i,j,k,m,o,p,q,r,s,t,u,v,c=a(b).data("datepicker"),e=a(b),f=Math.floor(c.calendars/2),l=0;for(e.find("td>table tbody").remove(),s=0;s<c.calendars;s++){switch(g=new Date(c.current),g.addMonths(-f+s),r=e.find("table").eq(s+1),r[0].className){case"datepickerViewDays":j=h(g,"B, Y");break;case"datepickerViewMonths":j=g.getFullYear();break;case"datepickerViewYears":j=g.getFullYear()-6+" - "+(g.getFullYear()+5)}for(r.find("thead tr:first th:eq(1) span").text(j),j=g.getFullYear()-6,i={data:[],className:"datepickerYears"},t=0;12>t;t++)i.data.push(j+t);for(q=tmpl(d.months.join(""),i),g.setDate(1),i={weeks:[],test:10},k=g.getMonth(),j=(g.getDay()-c.starts)%7,g.addDays(-(j+(0>j?7:0))),m=-1,l=0;42>l;)o=parseInt(l/7,10),p=l%7,i.weeks[o]||(m=g.getWeekNumber(),i.weeks[o]={week:m,days:[]}),i.weeks[o].days[p]={text:g.getDate(),classname:[]},k!=g.getMonth()&&i.weeks[o].days[p].classname.push("datepickerNotInMonth"),0==g.getDay()&&i.weeks[o].days[p].classname.push("datepickerSunday"),6==g.getDay()&&i.weeks[o].days[p].classname.push("datepickerSaturday"),u=c.onRender(g),v=g.valueOf(),(u.selected||c.date==v||a.inArray(v,c.date)>-1||"range"==c.mode&&v>=c.date[0]&&v<=c.date[1])&&i.weeks[o].days[p].classname.push("datepickerSelected"),u.disabled&&i.weeks[o].days[p].classname.push("datepickerDisabled"),u.className&&i.weeks[o].days[p].classname.push(u.className),i.weeks[o].days[p].classname=i.weeks[o].days[p].classname.join(" "),l++,g.addDays(1);q=tmpl(d.days.join(""),i)+q,i={data:c.locale.monthsShort,className:"datepickerMonths"},q=tmpl(d.months.join(""),i)+q,r.append(q)}},g=function(a,b){var c,e,f,g,h,i,d,j,k;if(a.constructor==Date)return new Date(a);for(c=a.split(/\W+/),d=b.split(/\W+/),j=new Date,k=0;k<c.length;k++)switch(d[k]){case"d":case"e":e=parseInt(c[k],10);break;case"m":f=parseInt(c[k],10)-1;break;case"Y":case"y":g=parseInt(c[k],10),g+=g>100?0:29>g?2e3:1900;break;case"H":case"I":case"k":case"l":h=parseInt(c[k],10);break;case"P":case"p":/pm/i.test(c[k])&&12>h?h+=12:/am/i.test(c[k])&&h>=12&&(h-=12);break;case"M":i=parseInt(c[k],10)}return new Date(void 0===g?j.getFullYear():g,void 0===f?j.getMonth():f,void 0===e?j.getDate():e,void 0===h?j.getHours():h,void 0===i?j.getMinutes():i,0)},h=function(a,b){var g,i,j,k,l,m,n,p,o,q,c=a.getMonth(),d=a.getDate(),e=a.getFullYear();for(a.getWeekNumber(),g=a.getDay(),i=a.getHours(),j=i>=12,k=j?i-12:i,l=a.getDayOfYear(),0==k&&(k=12),m=a.getMinutes(),n=a.getSeconds(),o=b.split(""),q=0;q<o.length;q++){switch(p=o[q],o[q]){case"a":p=a.getDayName();break;case"A":p=a.getDayName(!0);break;case"b":p=a.getMonthName();break;case"B":p=a.getMonthName(!0);break;case"C":p=1+Math.floor(e/100);break;case"d":p=10>d?"0"+d:d;break;case"e":p=d;break;case"H":p=10>i?"0"+i:i;break;case"I":p=10>k?"0"+k:k;break;case"j":p=100>l?10>l?"00"+l:"0"+l:l;break;case"k":p=i;break;case"l":p=k;break;case"m":p=9>c?"0"+(1+c):1+c;break;case"M":p=10>m?"0"+m:m;break;case"p":case"P":p=j?"PM":"AM";break;case"s":p=Math.floor(a.getTime()/1e3);break;case"S":p=10>n?"0"+n:n;break;case"u":p=g+1;break;case"w":p=g;break;case"y":p=(""+e).substr(2,2);break;case"Y":p=e}o[q]=p}return o.join("")},i=function(a){Date.prototype.tempDate||(Date.prototype.tempDate=null,Date.prototype.months=a.months,Date.prototype.monthsShort=a.monthsShort,Date.prototype.days=a.days,Date.prototype.daysShort=a.daysShort,Date.prototype.getMonthName=function(a){return this[a?"months":"monthsShort"][this.getMonth()]},Date.prototype.getDayName=function(a){return this[a?"days":"daysShort"][this.getDay()]},Date.prototype.addDays=function(a){this.setDate(this.getDate()+a),this.tempDate=this.getDate()},Date.prototype.addMonths=function(a){null==this.tempDate&&(this.tempDate=this.getDate()),this.setDate(1),this.setMonth(this.getMonth()+a),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.addYears=function(a){null==this.tempDate&&(this.tempDate=this.getDate()),this.setDate(1),this.setFullYear(this.getFullYear()+a),this.setDate(Math.min(this.tempDate,this.getMaxDays()))},Date.prototype.getMaxDays=function(){var c,a=new Date(Date.parse(this)),b=28;for(c=a.getMonth(),b=28;a.getMonth()==c;)b++,a.setDate(b);return b-1},Date.prototype.getFirstDay=function(){var a=new Date(Date.parse(this));return a.setDate(1),a.getDay()},Date.prototype.getWeekNumber=function(){var b,a=new Date(this);return a.setDate(a.getDate()-(a.getDay()+6)%7+3),b=a.valueOf(),a.setMonth(0),a.setDate(4),Math.round((b-a.valueOf())/6048e5)+1},Date.prototype.getDayOfYear=function(){var a=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0),b=new Date(this.getFullYear(),0,0,0,0,0),c=a-b;return Math.floor(1e3*60*60*(c/24))})},j=function(b){var e,f,g,h,c=a(b).data("datepicker"),d=a("#"+c.id);c.extraHeight||(e=a(b).find("div"),c.extraHeight=e.get(0).offsetHeight+e.get(1).offsetHeight,c.extraWidth=e.get(2).offsetWidth+e.get(3).offsetWidth),f=d.find("table:first").get(0),g=f.offsetWidth,h=f.offsetHeight,d.css({width:g+c.extraWidth+"px",height:h+c.extraHeight+"px"}).find("div.datepickerContainer").css({width:g+"px",height:h+"px"})},k=function(b){var c,d,e,g,i,j,k,m,n;if(a(b.target).is("span")&&(b.target=b.target.parentNode),c=a(b.target),c.is("a")){if(b.target.blur(),c.hasClass("datepickerDisabled"))return!1;if(d=a(this).data("datepicker"),e=c.parent(),g=e.parent().parent().parent(),i=a("table",this).index(g.get(0))-1,j=new Date(d.current),k=!1,m=!1,d.clickEvt=b,e.is("th")){if(e.hasClass("datepickerWeek")&&"range"==d.mode&&!e.next().hasClass("datepickerDisabled"))n=parseInt(e.next().text(),10),j.addMonths(i-Math.floor(d.calendars/2)),e.next().hasClass("datepickerNotInMonth")&&j.addMonths(n>15?-1:1),j.setDate(n),d.date[0]=j.setHours(0,0,0,0).valueOf(),j.setHours(23,59,59,0),j.addDays(6),d.date[1]=j.valueOf(),m=!0,k=!0,d.lastSel=!1;else if(e.hasClass("datepickerMonth"))switch(j.addMonths(i-Math.floor(d.calendars/2)),g.get(0).className){case"datepickerViewDays":g.get(0).className="datepickerViewMonths",c.find("span").text(j.getFullYear());break;case"datepickerViewMonths":g.get(0).className="datepickerViewYears",c.find("span").text(j.getFullYear()-6+" - "+(j.getFullYear()+5));break;case"datepickerViewYears":g.get(0).className="datepickerViewDays",c.find("span").text(h(j,"B, Y"))}else if(e.parent().parent().is("thead")){switch(g.get(0).className){case"datepickerViewDays":d.current.addMonths(e.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewMonths":d.current.addYears(e.hasClass("datepickerGoPrev")?-1:1);break;case"datepickerViewYears":d.current.addYears(e.hasClass("datepickerGoPrev")?-12:12)}m=!0}}else if(e.is("td")&&!e.hasClass("datepickerDisabled")){switch(g.get(0).className){case"datepickerViewMonths":d.current.setMonth(g.find("tbody.datepickerMonths td").index(e)),d.current.setFullYear(parseInt(g.find("thead th.datepickerMonth span").text(),10)),d.current.addMonths(Math.floor(d.calendars/2)-i),g.get(0).className="datepickerViewDays";break;case"datepickerViewYears":d.current.setFullYear(parseInt(c.text(),10)),g.get(0).className="datepickerViewMonths";break;default:switch(n=parseInt(c.text(),10),j.addMonths(i-Math.floor(d.calendars/2)),e.hasClass("datepickerNotInMonth")&&j.addMonths(n>15?-1:1),j.setDate(n),d.mode){case"multiple":n=j.setHours(0,0,0,0).valueOf(),a.inArray(n,d.date)>-1?a.each(d.date,function(a,b){return b==n?(d.date.splice(a,1),!1):void 0}):d.date.push(n);break;case"range":d.lastSel||(d.date[0]=j.setHours(0,0,0,0).valueOf()),n=j.setHours(23,59,59,0).valueOf(),n<d.date[0]?(d.date[1]=d.date[0]+86399e3,d.date[0]=n-86399e3):d.date[1]=n,d.lastSel=!d.lastSel;break;default:d.date=j.valueOf()}}m=!0,k=!0}m&&f(this),k&&d.onChange.apply(this,l(d))}return!1},l=function(b){var c;return"single"==b.mode?(c=new Date(b.date),[h(c,b.format),c,b.el,b.clickEvt]):(c=[[],[],b.el],a.each(b.date,function(a,d){var e=new Date(d);c[0].push(h(e,b.format)),c[1].push(e)}),c)},m=function(){var a="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(a?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(a?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(a?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(a?document.documentElement.clientHeight:document.body.clientHeight)}},n=function(a,b,c){if(a==b)return!0;if(a.contains)return a.contains(b);if(a.compareDocumentPosition)return!!(16&a.compareDocumentPosition(b));for(var d=b.parentNode;d&&d!=c;){if(d==a)return!0;d=d.parentNode}return!1},o=function(){var d,e,g,h,i,k,c=a("#"+a(this).data("datepickerId"));if(!c.is(":visible")){switch(d=c.get(0),f(d),e=c.data("datepicker"),e.onBeforeShow.apply(this,[c.get(0)]),g=a(this).offset(),h=m(),i=g.top,k=g.left,a.css(d,"display"),c.css({visibility:"hidden",display:"block"}),j(d),e.position){case"top":i-=d.offsetHeight;break;case"left":k-=d.offsetWidth;break;case"right":k+=this.offsetWidth;break;case"bottom":i+=this.offsetHeight}i+d.offsetHeight>h.t+h.h&&(i=g.top-d.offsetHeight),i<h.t&&(i=g.top+this.offsetHeight+d.offsetHeight),k+d.offsetWidth>h.l+h.w&&(k=g.left-d.offsetWidth),k<h.l&&(k=g.left+this.offsetWidth),c.css({visibility:"visible",display:"block",top:i+"px",left:k+"px"}),0!=e.onShow.apply(this,[c.get(0)])&&c.show(),a(document).bind("mousedown",{cal:c,trigger:this},p)}return!1},p=function(b){b.target==b.data.trigger||n(b.data.cal.get(0),b.target,b.data.cal.get(0))||(0!=b.data.cal.data("datepicker").onHide.apply(this,[b.data.cal.get(0)])&&b.data.cal.hide(),a(document).unbind("mousedown",p))};return{init:function(b){return b=a.extend({},e,b||{}),i(b.locale),b.calendars=Math.max(1,parseInt(b.calendars,10)||1),b.mode=/single|multiple|range/.test(b.mode)?b.mode:"single",this.each(function(){var e,i,h,l,m;if(!a(this).data("datepicker")){if(b.el=this,b.date.constructor==String&&(b.date=g(b.date,b.format),b.date.setHours(0,0,0,0)),"single"!=b.mode)if(b.date.constructor!=Array)b.date=[b.date.valueOf()],"range"==b.mode&&b.date.push(new Date(b.date[0]).setHours(23,59,59,0).valueOf());else{for(e=0;e<b.date.length;e++)b.date[e]=g(b.date[e],b.format).setHours(0,0,0,0).valueOf();"range"==b.mode&&(b.date[1]=new Date(b.date[1]).setHours(23,59,59,0).valueOf())}else b.date=b.date.valueOf();for(b.current=b.current?g(b.current,b.format):new Date,b.current.setDate(1),b.current.setHours(0,0,0,0),h="datepicker_"+parseInt(1e3*Math.random()),b.id=h,a(this).data("datepickerId",b.id),l=a(d.wrapper).attr("id",h).bind("click",k).data("datepicker",b),b.className&&l.addClass(b.className),m="",e=0;e<b.calendars;e++)i=b.starts,e>0&&(m+=d.space),m+=tmpl(d.head.join(""),{week:b.locale.weekMin,prev:b.prev,next:b.next,day1:b.locale.daysMin[i++%7],day2:b.locale.daysMin[i++%7],day3:b.locale.daysMin[i++%7],day4:b.locale.daysMin[i++%7],day5:b.locale.daysMin[i++%7],day6:b.locale.daysMin[i++%7],day7:b.locale.daysMin[i++%7]});l.find("tr:first").append(m).find("table").addClass(c[b.view]),f(l.get(0)),b.flat?(l.appendTo(this).show().css("position","relative"),j(l.get(0))):(l.appendTo(document.body),a(this).bind(b.eventName,o))}})},showPicker:function(){return this.each(function(){a(this).data("datepickerId")&&o.apply(this)})},hidePicker:function(){return this.each(function(){a(this).data("datepickerId")&&a("#"+a(this).data("datepickerId")).hide()})},setDate:function(b,c){return this.each(function(){var d,e,h;if(a(this).data("datepickerId")){if(d=a("#"+a(this).data("datepickerId")),e=d.data("datepicker"),e.date=b,e.date.constructor==String&&(e.date=g(e.date,e.format),e.date.setHours(0,0,0,0)),"single"!=e.mode)if(e.date.constructor!=Array)e.date=[e.date.valueOf()],"range"==e.mode&&e.date.push(new Date(e.date[0]).setHours(23,59,59,0).valueOf());else{for(h=0;h<e.date.length;h++)e.date[h]=g(e.date[h],e.format).setHours(0,0,0,0).valueOf();"range"==e.mode&&(e.date[1]=new Date(e.date[1]).setHours(23,59,59,0).valueOf())}else e.date=e.date.valueOf();c&&(e.current=new Date("single"!=e.mode?e.date[0]:e.date)),f(d.get(0))}})},getDate:function(b){return this.size()>0?l(a("#"+a(this).data("datepickerId")).data("datepicker"))[b?0:1]:void 0},clear:function(){return this.each(function(){var b,c;a(this).data("datepickerId")&&(b=a("#"+a(this).data("datepickerId")),c=b.data("datepicker"),"single"!=c.mode&&(c.date=[],f(b.get(0))))})},fixLayout:function(){return this.each(function(){var b,c;a(this).data("datepickerId")&&(b=a("#"+a(this).data("datepickerId")),c=b.data("datepicker"),c.flat&&j(b.get(0)))})}}}();a.fn.extend({DatePicker:b.init,DatePickerHide:b.hidePicker,DatePickerShow:b.showPicker,DatePickerSetDate:b.setDate,DatePickerGetDate:b.getDate,DatePickerClear:b.clear,DatePickerLayout:b.fixLayout})}(jQuery),function(){var a={};this.tmpl=function b(c,d){var e=/\W/.test(c)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+c.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[c]=a[c]||b(document.getElementById(c).innerHTML);return d?e(d):e}}();